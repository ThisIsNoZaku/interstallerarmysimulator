<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_popup_dialogue</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-19998</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>
question="";
value_is_string=false;
inputing="";
maximum=0;
blink=0;
fin=false;
too_high=0;
left_mouse=0;
cooldown=8;

target="";
target2="";

// 

// question="How many Terminator Armors?  Max: 5";
// maximum=5;
// value_is_string=false;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="1" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>
if (instance_exists(obj_cursor)){obj_cursor.image_index=0;}
if (instance_exists(obj_controller)){if (obj_controller.cooldown&lt;=0) then obj_controller.cooldown=6;}

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>
if (too_high&gt;=0) then too_high-=1;
if (cooldown&lt;10) and (cooldown&gt;=0) then cooldown-=1;
if (instance_exists(obj_controller)){if (obj_controller.cooldown&lt;=0) then obj_controller.cooldown=6;}

blink+=1;
if (blink&gt;60) then blink=0;
inputing=string(keyboard_string);
if (value_is_string=false){inputing=string_digits(keyboard_string);}

var xx,yy;
xx=view_xview[0]+x;
yy=view_yview[0]+y;

if (scr_hit(xx+19,yy+46,xx+280,yy+70)=false) and (value_is_string=false){
    if (is_real(real(inputing))){
        if (real(inputing)&gt;maximum){inputing=string(maximum);keyboard_string=string(maximum);}
    }
}


if (fin=true) and (too_high&gt;0) then fin=false;
if (fin=true) and (too_high&lt;=0){fin=false;
    var stahp;stahp=false;
    if (value_is_string=false){
        if (is_real(real(inputing))){
            if (real(inputing)&gt;maximum) then too_high=60;
        }
        
        if (too_high&lt;=0) and (inputing!="0") and (inputing!=""){// All checks out captain
            if (target="t1"){obj_controller.trade_tnum[1]=real(inputing);obj_controller.trade_take[1]=target2;with(obj_controller){scr_trade(false);}}
            if (target="t2"){obj_controller.trade_tnum[2]=real(inputing);obj_controller.trade_take[2]=target2;with(obj_controller){scr_trade(false);}}
            if (target="t3"){obj_controller.trade_tnum[3]=real(inputing);obj_controller.trade_take[3]=target2;with(obj_controller){scr_trade(false);}}
            if (target="t4"){obj_controller.trade_tnum[4]=real(inputing);obj_controller.trade_take[4]=target2;with(obj_controller){scr_trade(false);}}
            
            if (target="m1"){obj_controller.trade_mnum[1]=real(inputing);obj_controller.trade_give[1]=target2;with(obj_controller){scr_trade(false);}}
            if (target="m2"){obj_controller.trade_mnum[2]=real(inputing);obj_controller.trade_give[2]=target2;with(obj_controller){scr_trade(false);}}
            if (target="m3"){obj_controller.trade_mnum[3]=real(inputing);obj_controller.trade_give[3]=target2;with(obj_controller){scr_trade(false);}}
            if (target="m4"){obj_controller.trade_mnum[4]=real(inputing);obj_controller.trade_give[4]=target2;with(obj_controller){scr_trade(false);}}
            
            if (string_count("m",target)&gt;0){
                if (target2="Requisition") then obj_controller.trade_req-=real(inputing);
                if (target2=string(obj_img.organics)) then obj_controller.trade_gene-=real(inputing);
                if (target2="STC Fragment") then obj_controller.trade_chip-=real(inputing);
                if (target2="Info Chip") then obj_controller.trade_info-=real(inputing);
            }
            
            if (target="controller") then obj_controller.cheatcode=real(inputing);
            
            if (instance_exists(obj_controller)){obj_controller.cooldown=8;}
            instance_destroy();
        }
        
        
    }
    
}

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="6" enumb="56">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>
left_mouse=0;
if (cooldown&gt;10) then cooldown=0;

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="6" enumb="53">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>
left_mouse=1;

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>
// Relative spot
xx=view_xview[0]+x;
yy=view_yview[0]+y;

draw_sprite(spr_popup_dialogue,0,xx,yy);

draw_set_font(fnt_40k_14b);
draw_set_color(c_gray);
draw_set_halign(fa_center);

draw_text_ext(xx+150,yy+7,question,18,260);

if (instance_exists(obj_cursor)){obj_cursor.image_index=0;}
if (scr_hit(xx+19,yy+46,xx+280,yy+70)=true) and (instance_exists(obj_cursor)){obj_cursor.image_index=2;}


draw_set_font(fnt_40k_14);
draw_set_color(c_gray);if (too_high&gt;0) then draw_set_color(c_red);
if (blink&lt;=30) then draw_text(xx+152,yy+50,string(inputing)+"|");
if (blink&gt;30) then draw_text(xx+150,yy+50,string(inputing));


// Button 1
draw_set_alpha(0.25);draw_set_color(c_black);
draw_rectangle(xx+26,yy+103,xx+126,yy+123,0);
draw_set_color(c_gray);
draw_set_alpha(0.5);draw_rectangle(xx+26,yy+103,xx+126,yy+123,1);
draw_set_alpha(0.25);draw_rectangle(xx+27,yy+104,xx+125,yy+122,1);
draw_set_alpha(1);draw_text(xx+76,yy+105,"Cancel");
if (scr_hit(xx+26,yy+103,xx+126,yy+123)=true){
    draw_set_alpha(0.1);draw_set_color(c_white);
    draw_rectangle(xx+26,yy+103,xx+126,yy+123,0);
    draw_set_alpha(1);if (instance_exists(obj_cursor)){obj_cursor.image_index=1;}
    if (left_mouse=1){keyboard_string="0";inputing="0";fin=true;instance_destroy();
    if (instance_exists(obj_controller)){obj_controller.cooldown=8;}}
}

// Button 2
draw_set_alpha(0.25);draw_set_color(c_black);
draw_rectangle(xx+175,yy+103,xx+275,yy+123,0);
draw_set_color(c_gray);
draw_set_alpha(0.5);draw_rectangle(xx+175,yy+103,xx+275,yy+123,1);
draw_set_alpha(0.25);draw_rectangle(xx+176,yy+104,xx+274,yy+122,1);
draw_set_alpha(1);draw_text(xx+225,yy+105,"Accept");
if (scr_hit(xx+175,yy+103,xx+275,yy+123)=true){
    draw_set_alpha(0.1);draw_set_color(c_white);
    draw_rectangle(xx+175,yy+103,xx+275,yy+123,0);
    draw_set_alpha(1);if (instance_exists(obj_cursor)){obj_cursor.image_index=1;}
    if (left_mouse=1) then fin=true;
}

// 26,93

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="27">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>
keyboard_string="0";inputing="0";fin=true;

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="13">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>
if (value_is_string=false) then keyboard_string=string_digits(keyboard_string);
fin=true;

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>
if (value_is_string=false) then keyboard_string=string_digits(keyboard_string);

</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints>
    <point>0,0</point>
    <point>150,150</point>
  </PhysicsShapePoints>
</object>
