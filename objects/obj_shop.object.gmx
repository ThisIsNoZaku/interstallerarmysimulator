<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-1002</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>
hover=0;
shop="";
click=0;
click2=0;
discount=0;
construction_started=0;
eta=0;
target_comp=obj_controller.new_vehicles;

tooltip_show=0;
tooltip="";
tooltip_weapon=0;
tooltip_stat1=0;
tooltip_stat2=0;
tooltip_stat3=0;
tooltip_stat4=0;
tooltip_other="";
tooltip_x=0;
tooltip_y=0;
tooltip_width=0;
tooltip_height=0;

shop="equipment";
/*if (obj_controller.menu=55) then shop="equipment";
if (obj_controller.menu=56) then shop="vehicles";
if (obj_controller.menu=57) then shop="warships";
if (obj_controller.menu=58) then shop="equipment2";*/
if (instance_number(obj_shop)&gt;1){
    var war;war=instance_nearest(0,0,obj_shop);
    shop=war.shop;with(war){instance_destroy();}
    x=0;y=0;
}


var i,rene;i=-1;rene=0;
repeat(40){i+=1;
    item[i]="";x_mod[i]=0;item_stocked[i]=0;mc_stocked[i]=0;item_cost[i]=0;nobuy[i]=0;
}
if (obj_controller.faction_status[2]="War"){rene=1;
    with(obj_temp6){instance_destroy();}
    with(obj_star){var u;u=0;repeat(4){u+=1;if (p_type[u]="Forge") and (p_owner[u]=1) then instance_create(x,y,obj_temp6);}}
    if (instance_exists(obj_temp6)) then rene=0;
    with(obj_temp6){instance_destroy();}
}

if (shop="equipment"){i=0;
    i+=1;item[i]="Combat Knife";item_stocked[i]=scr_item_count(item[i]);item_cost[i]=1;
    i+=1;item[i]=string(obj_img.blade)+"sword";item_stocked[i]=scr_item_count(item[i]);item_cost[i]=3;
        i+=1;x_mod[i]=9;item[i]="Eviscerator";item_stocked[i]=scr_item_count(item[i]);nobuy[i]=1;
    i+=1;item[i]=string(obj_img.blade)+"axe";item_stocked[i]=scr_item_count(item[i]);item_cost[i]=4;
        i+=1;item[i]="Power Axe";item_stocked[i]=scr_item_count(item[i]);item_cost[i]=10;if (rene=1){nobuy[i]=1;item_cost[i]=0;}
        i+=1;item[i]="Power Sword";item_stocked[i]=scr_item_count(item[i]);item_cost[i]=12;if (rene=1){nobuy[i]=1;item_cost[i]=0;}
        i+=1;item[i]="Power Fist";item_stocked[i]=scr_item_count(item[i]);item_cost[i]=30;if (rene=1){nobuy[i]=1;item_cost[i]=0;}
        i+=1;item[i]="Lightning Claw";item_stocked[i]=scr_item_count(item[i]);item_cost[i]=35;if (rene=1){nobuy[i]=1;item_cost[i]=0;}
        i+=1;item[i]=string(obj_img.blade)+"fist";item_stocked[i]=scr_item_count(item[i]);item_cost[i]=35;if (rene=1){nobuy[i]=1;item_cost[i]=0;}
        i+=1;item[i]="Force Weapon";item_stocked[i]=scr_item_count(item[i]);item_cost[i]=65;if (rene=1){nobuy[i]=1;item_cost[i]=0;}
        i+=1;item[i]=string(obj_img.hammer);item_stocked[i]=scr_item_count(item[i]);item_cost[i]=50;if (rene=1){nobuy[i]=1;item_cost[i]=0;}
    i+=1;x_mod[i]=9;item[i]="Lascutter";item_stocked[i]=scr_item_count(item[i]);item_cost[i]=15;
    i+=1;x_mod[i]=9;item[i]="Boarding Shield";item_stocked[i]=scr_item_count(item[i]);item_cost[i]=5;
    i+=1;x_mod[i]=9;item[i]="Storm Shield";item_stocked[i]=scr_item_count(item[i]);item_cost[i]=20;if (rene=1){nobuy[i]=1;item_cost[i]=0;}
    i+=1;x_mod[i]=9;item[i]="Company Standard";item_stocked[i]=scr_item_count(item[i]);nobuy[i]=1;
    
    i+=1;item[i]=string(obj_img.gyro_adj)+" Pistol";item_stocked[i]=scr_item_count(item[i]);item_cost[i]=2;
    i+=1;item[i]=string(obj_img.gyro);item_stocked[i]=scr_item_count(item[i]);item_cost[i]=5;
    i+=1;x_mod[i]=9;item[i]="Combiflamer";item_stocked[i]=scr_item_count(item[i]);item_cost[i]=8;if (rene=1){nobuy[i]=1;item_cost[i]=0;}
    i+=1;item[i]="Heavy "+string(obj_img.gyro);item_stocked[i]=scr_item_count(item[i]);item_cost[i]=15;if (rene=1){nobuy[i]=1;item_cost[i]=0;}
    i+=1;item[i]="Storm "+string(obj_img.gyro);item_stocked[i]=scr_item_count(item[i]);item_cost[i]=8;if (rene=1){nobuy[i]=1;item_cost[i]=0;}
    i+=1;item[i]="Flamer";item_stocked[i]=scr_item_count(item[i]);item_cost[i]=5;
    i+=1;item[i]="Heavy Flamer";item_stocked[i]=scr_item_count(item[i]);nobuy[i]=1;if (rene=1){nobuy[i]=1;item_cost[i]=0;}
    i+=1;item[i]="Incinerator";item_stocked[i]=scr_item_count(item[i]);nobuy[i]=1;
    
    i+=1;item[i]="Meltagun";item_stocked[i]=scr_item_count(item[i]);item_cost[i]=15;
    i+=1;item[i]="Multi-Melta";item_stocked[i]=scr_item_count(item[i]);item_cost[i]=30;if (rene=1){nobuy[i]=1;item_cost[i]=0;}
    i+=1;item[i]="Plasma Pistol";item_stocked[i]=scr_item_count(item[i]);item_cost[i]=45;if (rene=1){nobuy[i]=1;item_cost[i]=0;}
    i+=1;item[i]="Plasma Gun";item_stocked[i]=scr_item_count(item[i]);item_cost[i]=90;if (rene=1){nobuy[i]=1;item_cost[i]=0;}
        i+=1;x_mod[i]=9;item[i]="Archeotech Laspistol";item_stocked[i]=scr_item_count(item[i]);nobuy[i]=1;
        i+=1;x_mod[i]=9;item[i]="Hellrifle";item_stocked[i]=scr_item_count(item[i]);nobuy[i]=1;
    i+=1;item[i]="Sniper Rifle";item_stocked[i]=scr_item_count(item[i]);item_cost[i]=5;
    i+=1;item[i]="Assault Cannon";item_stocked[i]=scr_item_count(item[i]);item_cost[i]=20;if (rene=1){nobuy[i]=1;item_cost[i]=0;}
    i+=1;item[i]="Missile Launcher";item_stocked[i]=scr_item_count(item[i]);item_cost[i]=20;
    i+=1;item[i]=string(obj_img.laser)+"cannon";item_stocked[i]=scr_item_count(item[i]);item_cost[i]=25;if (rene=1){nobuy[i]=1;item_cost[i]=0;}
    
    i=0;repeat(39){i+=1;if (item[i]!="") then mc_stocked[i]=scr_item_count("Master Crafted "+string(item[i]));}
}
if (shop="equipment2"){i=0;
    i+=1;item[i]="MK3 Iron Armor";item_stocked[i]=scr_item_count("MK3 Iron Armor");nobuy[i]=1;if (rene=1){nobuy[i]=1;item_cost[i]=0;}
    i+=1;item[i]="MK4 Maximus";item_stocked[i]=scr_item_count("MK4 Maximus");nobuy[i]=1;if (rene=1){nobuy[i]=1;item_cost[i]=0;}
    i+=1;item[i]="MK6 Corvus";item_stocked[i]=scr_item_count("MK6 Corvus");item_cost[i]=25;if (rene=1){nobuy[i]=1;item_cost[i]=0;}
    i+=1;item[i]="MK7 Aquila";item_stocked[i]=scr_item_count("MK7 Aquila");item_cost[i]=15;if (rene=1){nobuy[i]=1;item_cost[i]=0;}
    i+=1;item[i]="MK8 Errant";item_stocked[i]=scr_item_count("MK8 Errant");nobuy[i]=1;if (rene=1){nobuy[i]=1;item_cost[i]=0;}
    i+=1;item[i]="Scout Armor";item_stocked[i]=scr_item_count(item[i]);item_cost[i]=3;
    i+=1;item[i]="Artificer Armor";item_stocked[i]=scr_item_count("Artificer Armor");nobuy[i]=1;if (rene=1){nobuy[i]=1;item_cost[i]=0;}
    i+=1;item[i]=string(obj_img.battlesuit);item_stocked[i]=scr_item_count(string(obj_img.battlesuit));nobuy[i]=1;
    if (obj_controller.stc_wargear&gt;=6){nobuy[i]=0;item_cost[i]=400;}// if (rene=1){nobuy[i]=1;item_cost[i]=0;}
    i+=1;item[i]="Tartaros";item_stocked[i]=scr_item_count("Tartaros");nobuy[i]=1;
    
    i+=1;x_mod[i]=9;item[i]="Jump Pack";item_stocked[i]=scr_item_count(item[i]);item_cost[i]=8;if (rene=1){nobuy[i]=1;item_cost[i]=0;}
    i+=1;x_mod[i]=9;item[i]="Servo Arms";item_stocked[i]=scr_item_count(item[i]);item_cost[i]=30;if (rene=1){nobuy[i]=1;item_cost[i]=0;}
    i+=1;x_mod[i]=9;item[i]="Bionics";item_stocked[i]=scr_item_count(item[i]);item_cost[i]=5;
    i+=1;x_mod[i]=9;item[i]="Narthecium";item_stocked[i]=scr_item_count(item[i]);item_cost[i]=5;if (rene=1){nobuy[i]=1;item_cost[i]=0;}
    i+=1;x_mod[i]=9;item[i]="Psychic Hood";item_stocked[i]=scr_item_count(item[i]);item_cost[i]=50;if (rene=1){nobuy[i]=1;item_cost[i]=0;}
    i+=1;x_mod[i]=9;item[i]="Rosarius";item_stocked[i]=scr_item_count(item[i]);item_cost[i]=50;if (rene=1){nobuy[i]=1;item_cost[i]=0;}
    i+=1;x_mod[i]=9;item[i]="Iron Halo";item_stocked[i]=scr_item_count(item[i]);item_cost[i]=300;if (rene=1){nobuy[i]=1;item_cost[i]=0;}
    i+=1;x_mod[i]=9;item[i]="Plasma Bomb";item_stocked[i]=scr_item_count(item[i]);item_cost[i]=200;
    i+=1;x_mod[i]=9;item[i]="Exterminatus";item_stocked[i]=scr_item_count(item[i]);nobuy[i]=1;if (rene=1){nobuy[i]=1;item_cost[i]=0;}
}


if (shop="vehicles"){i=0;
    i+=1;item[i]=string(obj_img.unit[1,18]);item_stocked[i]=scr_vehicle_count(item[i],"");item_cost[i]=75;if (rene=1){nobuy[i]=1;item_cost[i]=0;}
    i+=1;item[i]=string(obj_img.unit[1,19]);item_stocked[i]=scr_vehicle_count(item[i],"");item_cost[i]=125;if (rene=1){nobuy[i]=1;item_cost[i]=0;}
    i+=1;item[i]=string(obj_img.unit[1,21]);item_stocked[i]=scr_vehicle_count(item[i],"");nobuy[i]=1;
    if (obj_controller.stc_vehicles&gt;=6){nobuy[i]=0;item_cost[i]=800;}// if (rene=1){nobuy[i]=1;item_cost[i]=0;}
    i+=1;item[i]=string(obj_img.unit[1,20]);item_stocked[i]=scr_vehicle_count(item[i],"");item_cost[i]=100;if (rene=1){nobuy[i]=1;item_cost[i]=0;}
    i+=1;item[i]=string(obj_img.unit[1,22]);item_stocked[i]=scr_vehicle_count(item[i],"");nobuy[i]=1;
    if (obj_controller.stc_vehicles&gt;=6){nobuy[i]=0;item_cost[i]=200;}// if (rene=1){nobuy[i]=1;item_cost[i]=0;}
    i+=1;item[i]="Bike";item_stocked[i]=scr_item_count(item[i]);item_cost[i]=40;
    i+=1;item[i]=obj_img.unit[1,6];item_stocked[i]=scr_item_count(item[i]);nobuy[i]=1;// if (rene=1){nobuy[i]=1;item_cost[i]=0;}
    if (obj_controller.stc_wargear&gt;=6){nobuy[i]=0;item_cost[i]=800;}// if (rene=1){nobuy[i]=1;item_cost[i]=0;}
    i+=1;x_mod[i]=9;item[i]="Close Combat Weapon";item_stocked[i]=scr_item_count(item[i]);item_cost[i]=15;if (rene=1){nobuy[i]=1;item_cost[i]=0;}
    i+=1;x_mod[i]=9;item[i]="Force Weapon";item_stocked[i]=scr_item_count(item[i]);item_cost[i]=20;if (rene=1){nobuy[i]=1;item_cost[i]=0;}
    i+=1;x_mod[i]=9;item[i]=string(obj_img.laser)+"cannon";item_stocked[i]=scr_item_count(item[i]);item_cost[i]=20;if (rene=1){nobuy[i]=1;item_cost[i]=0;}
    i+=1;x_mod[i]=9;item[i]="Autocannon";item_stocked[i]=scr_item_count(item[i]);item_cost[i]=25;if (rene=1){nobuy[i]=1;item_cost[i]=0;}
    i+=1;x_mod[i]=9;item[i]="Missile Launcher";item_stocked[i]=scr_item_count(item[i]);item_cost[i]=20;
    i+=1;x_mod[i]=9;item[i]="Inferno Cannon";item_stocked[i]=scr_item_count(item[i]);item_cost[i]=25;if (rene=1){nobuy[i]=1;item_cost[i]=0;}
    i+=1;x_mod[i]=9;item[i]="Multi-Melta";item_stocked[i]=scr_item_count(item[i]);item_cost[i]=30;if (rene=1){nobuy[i]=1;item_cost[i]=0;}
    if (obj_controller.stc_bonus[3]=3){
        i+=1;x_mod[i]=0;item[i]="Flamestorm Cannon";item_stocked[i]=scr_item_count(item[i]);item_cost[i]=35;if (rene=1){nobuy[i]=1;item_cost[i]=0;}
        i+=1;x_mod[i]=0;item[i]="Twin-Linked Assault Cannon";item_stocked[i]=scr_item_count(item[i]);item_cost[i]=50;if (rene=1){nobuy[i]=1;item_cost[i]=0;}
        i+=1;x_mod[i]=0;item[i]="Whirlwind Missile Launcher";item_stocked[i]=scr_item_count(item[i]);item_cost[i]=40;if (rene=1){nobuy[i]=1;item_cost[i]=0;}
    }
    if (obj_controller.stc_bonus[4]=3){
        i+=1;x_mod[i]=0;item[i]="Heavy Conversion Beam Projector";item_stocked[i]=scr_item_count(item[i]);item_cost[i]=100;if (rene=1){nobuy[i]=1;item_cost[i]=0;}
        i+=1;x_mod[i]=0;item[i]="Void Shield";item_stocked[i]=scr_item_count(item[i]);item_cost[i]=250;if (rene=1){nobuy[i]=1;item_cost[i]=0;}
    }
}

if (shop="warships"){i=0;
    i+=1;item[i]=string(obj_img.ship[1,1]);item_stocked[i]=scr_ship_count(item[i]);item_cost[i]=20000;if (rene=1){nobuy[i]=1;item_cost[i]=0;}
    i+=1;item[i]=string(obj_img.ship[1,2]);item_stocked[i]=scr_ship_count(item[i]);item_cost[i]=8000;if (rene=1){nobuy[i]=1;item_cost[i]=0;}
    i+=1;item[i]=string(obj_img.ship[1,3]);item_stocked[i]=scr_ship_count(item[i]);item_cost[i]=2000;if (rene=1){nobuy[i]=1;item_cost[i]=0;}
    i+=1;item[i]=string(obj_img.ship[1,4]);item_stocked[i]=scr_ship_count(item[i]);item_cost[i]=2000;if (rene=1){nobuy[i]=1;item_cost[i]=0;}
    i+=1;x_mod[i]=9;item[i]="Cyclonic Torpedo";item_stocked[i]=scr_item_count(item[i]);nobuy[i]=1;if (rene=1){nobuy[i]=1;item_cost[i]=0;}
}



with(obj_p_fleet){
    if (capital_number&gt;0) and (action=""){
        var you;you=instance_nearest(x,y,obj_star);
        if (you.trader&gt;0) then obj_shop.discount=1;
    }
}
with(obj_star){
    if ((p_owner[1]=1) or (p_owner[2]=1) or (p_owner[3]=1) or (p_owner[4]=1)) and (trader&gt;0) then obj_shop.discount=1;
}


if (shop="equipment") or (shop="equipment2"){var disc;disc=1;
    if (obj_controller.stc_wargear&gt;=1) then disc=0.92;
    if (obj_controller.stc_wargear&gt;=3) then disc=0.86;
    if (obj_controller.stc_wargear&gt;=5) then disc=0.75;
    i=0;repeat(31){i+=1;if (item_cost[i]&gt;1) then item_cost[i]=round(item_cost[i]*disc);}
}
if (shop="vehicles"){var disc;disc=1;
    if (obj_controller.stc_vehicles&gt;=1) then disc=0.92;
    if (obj_controller.stc_vehicles&gt;=3) then disc=0.86;
    if (obj_controller.stc_vehicles&gt;=5) then disc=0.75;
    i=0;repeat(31){i+=1;var ahuh;ahuh=1;
        if (i&gt;=7) and (i&lt;=12) then ahuh=0;
        if (ahuh=1){if (item_cost[i]&gt;1) then item_cost[i]=round(item_cost[i]*disc);}
    }
}
if (shop="warships"){var disc;disc=1;
    if (obj_controller.stc_ships&gt;=1) then disc=0.92;
    if (obj_controller.stc_ships&gt;=3) then disc=0.86;
    if (obj_controller.stc_ships&gt;=5) then disc=0.75;
    i=0;repeat(31){i+=1;if (item_cost[i]&gt;1) then item_cost[i]=round(item_cost[i]*disc);}
}
if (discount=1){discount=2;i=0;
    repeat(31){i+=1;
        if (item_cost[i]&gt;=5) then item_cost[i]=round(item_cost[i]*0.8);
        if (item_cost[i]&gt;1) and (item_cost[i]&lt;5) then item_cost[i]-=1;
    }
}

if (rene=1){i=0;repeat(31){i+=1;item_cost[i]=item_cost[i]*2;}}

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>
if (click&gt;0){click=-1;audio_play_sound(snd_click,-100,0);audio_sound_gain(snd_click,0.25*obj_controller.master_volume*obj_controller.effect_volume,0);}
if (click2&gt;0){click2=-1;audio_play_sound(snd_click,-100,0);audio_sound_gain(snd_click,0.25*obj_controller.master_volume*obj_controller.effect_volume,0);}

hover=0;
var i,xx,yy,x2,y2;i=0;
xx=view_xview[0]+0;
yy=view_yview[0]+0;

if (construction_started&gt;0) then construction_started-=1;

x2=962;
y2=107;
tooltip_show=0;


if (instance_exists(obj_ingame_menu)) then exit;

repeat(39){
    i+=1;y2+=20;
    
    if (item[i]!="") and (mouse_x&gt;=xx+962) and (mouse_y&gt;=yy+y2) and (mouse_x&lt;xx+1100) and (mouse_y&lt;yy+y2+19) and (shop!="warships"){
        tooltip_stat1=0;tooltip_stat2=0;tooltip_stat3=0;tooltip_stat4=0;tooltip_other="";
        marine_armor[0]="";
        tooltip=scr_weapon(item[i],"",true,0,false,"","description");
        tooltip_x=mouse_x;tooltip_y=mouse_y+12;
        tooltip_show=1;
    }
    
    if (item[i]!="") /*and (nobuy[i]=0)*/ and (mouse_x&gt;=xx+x2) and (mouse_y&gt;=yy+y2+1) and (xx+1579) and (mouse_y&lt;yy+y2+19){
        hover=i;
    }  
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="6" enumb="50">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>

var i,xx,yy,x2,y2,cost,multiple;i=0;
xx=view_xview[0]+0;
yy=view_yview[0]+0;

x2=962;
y2=107;


if (mouse_x&gt;=xx+1262) and (mouse_y&gt;=yy+82) and (mouse_x&lt;=xx+1417) and (mouse_y&lt;yy+103) and (obj_controller.cooldown&lt;=0){
    var onceh;onceh=0;obj_controller.cooldown=8000;
    if (target_comp&gt;=1) and (onceh=0) then target_comp+=1;
    if (target_comp&gt;obj_ini.companies) then target_comp=1;
    obj_controller.new_vehicles=target_comp;
}

var noo;noo="";
if (mouse_y&gt;=yy+76) and (mouse_y&lt;yy+104) and (obj_controller.cooldown&lt;=0){
    if (mouse_x&gt;=xx+957) and (mouse_x&lt;xx+1062) then noo="equipment";
    if (mouse_x&gt;=xx+1068) and (mouse_x&lt;xx+1136) then noo="equipment2";
    if (mouse_x&gt;=xx+1167) and (mouse_x&lt;xx+1255) then noo="vehicles";
    if (mouse_x&gt;=xx+1487) and (mouse_x&lt;xx+1545) then noo="warships";
    obj_controller.cooldown=8000;shop=noo;
    instance_create(50,50,obj_shop);
}



draw_rectangle(xx+957,yy+76,xx+1062,yy+104,0);
    draw_rectangle(xx+1068,yy+76,xx+1136,yy+104,0);
    draw_rectangle(xx+1167,yy+76,xx+1255,yy+104,0);
    draw_rectangle(xx+1487,yy+76,xx+1545,yy+104,0);
    
    draw_set_color(c_black);
    draw_text_transformed(xx+960,yy+76,"Equipment",0.6,0.6,0);
    draw_text_transformed(xx+1070,yy+76,"Armor",0.6,0.6,0);
    draw_text_transformed(xx+1170,yy+76,"Vehicles",0.6,0.6,0);
    draw_text_transformed(xx+1490,yy+76,"Ships",0.6,0.6,0);

/*if (shop="vehicles") and (obj_controller.cooldown&lt;=0){
    if (mouse_y&gt;=yy+377) and (mouse_y&lt;yy+389){
        if (mouse_x&gt;=xx+224) and (mouse_x&lt;xx+291){target_comp=1;obj_controller.new_vehicles=1;obj_controller.cooldown=8;click2=1;}
        if (mouse_x&gt;=xx+301) and (mouse_x&lt;xx+368){target_comp=2;obj_controller.new_vehicles=2;obj_controller.cooldown=8;click2=1;}
        if (mouse_x&gt;=xx+378) and (mouse_x&lt;xx+445){target_comp=3;obj_controller.new_vehicles=3;obj_controller.cooldown=8;click2=1;}
        if (mouse_x&gt;=xx+455) and (mouse_x&lt;xx+522){target_comp=4;obj_controller.new_vehicles=4;obj_controller.cooldown=8;click2=1;}
        if (mouse_x&gt;=xx+532) and (mouse_x&lt;xx+599){target_comp=5;obj_controller.new_vehicles=5;obj_controller.cooldown=8;click2=1;}
    }
    if (mouse_y&gt;=yy+389) and (mouse_y&lt;yy+401){
        if (mouse_x&gt;=xx+224) and (mouse_x&lt;xx+291){target_comp=6;obj_controller.new_vehicles=6;obj_controller.cooldown=8;click2=1;}
        if (mouse_x&gt;=xx+301) and (mouse_x&lt;xx+368){target_comp=7;obj_controller.new_vehicles=7;obj_controller.cooldown=8;click2=1;}
        if (mouse_x&gt;=xx+378) and (mouse_x&lt;xx+445){target_comp=8;obj_controller.new_vehicles=8;obj_controller.cooldown=8;click2=1;}
        if (mouse_x&gt;=xx+455) and (mouse_x&lt;xx+522){target_comp=9;obj_controller.new_vehicles=9;obj_controller.cooldown=8;click2=1;}
        if (mouse_x&gt;=xx+532) and (mouse_x&lt;xx+599){target_comp=10;obj_controller.new_vehicles=10;obj_controller.cooldown=8;click2=1;}
    }
}*/


if (obj_controller.cooldown&lt;=0){
    repeat(39){
        i+=1;y2+=20;
        if (item[i]!="") and (nobuy[i]=0) and (mouse_x&gt;=xx+1520) and (mouse_y&gt;=yy+y2+2) and (mouse_x&lt;xx+1580) and (mouse_y&lt;yy+y2+18){
            cost=item_cost[i];if (keyboard_check(vk_shift)) and (shop!="warships") then cost=item_cost[i]*5;
            if (obj_controller.requisition&gt;=cost) and (shop!="warships"){
                if (item[i]!=string(obj_img.unit[1,18])) and (item[i]!=string(obj_img.unit[1,19])) and (item[i]!=string(obj_img.unit[1,21])) and (item[i]!=string(obj_img.unit[1,20])) and (item[i]!=string(obj_img.unit[1,22])){
                    if (keyboard_check(vk_shift)){scr_add_item(item[i],5);item_stocked[i]+=5;click2=1;}
                    if (!keyboard_check(vk_shift)){scr_add_item(item[i],1);item_stocked[i]+=1;click2=1;}
                }
                if (item[i]=string(obj_img.unit[1,18])) or (item[i]=string(obj_img.unit[1,19])) or (item[i]=string(obj_img.unit[1,21])) or (item[i]=string(obj_img.unit[1,20])) or (item[i]=string(obj_img.unit[1,22])){
                    if (keyboard_check(vk_shift)){repeat(5){scr_add_vehicle(item[i],target_comp,"standard","standard","standard","standard");}item_stocked[i]+=5;click2=1;}
                    if (!keyboard_check(vk_shift)){scr_add_vehicle(item[i],target_comp,"standard","standard","standard","standard");item_stocked[i]+=1;click2=1;}
                }
                with(obj_ini){scr_vehicle_order(obj_shop.target_comp);}
                obj_controller.requisition-=cost;
            }
            
            if (obj_controller.requisition&gt;=cost) and (shop="warships"){
                var v,ev,;v=0;ev=0;
                repeat(99){v+=1;if (ev=0) and (obj_controller.event[v]="") then ev=v;}
                obj_controller.event[ev]="new_"+string(item[i]);
                
                if (item[i]=string(obj_img.ship[1,1])) then obj_controller.event_duration[ev]=12;
                if (item[i]=string(obj_img.ship[1,2])) then obj_controller.event_duration[ev]=4;
                if (item[i]=string(obj_img.ship[1,3])) then obj_controller.event_duration[ev]=1;
                if (item[i]=string(obj_img.ship[1,4])) then obj_controller.event_duration[ev]=1;
                obj_controller.event_duration[ev]+=choose(0,0,1);
                eta=obj_controller.event_duration[ev];
                
                construction_started=120;obj_controller.requisition-=cost;
            }
            
            obj_controller.cooldown=8000;
        }  
    }
}


</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>
var i,xx,yy,x2,y2;i=0;
xx=view_xview[0]+0;
yy=view_yview[0]+0;

x2=962;y2=107;

draw_set_font(fnt_40k_14);
draw_set_color(c_gray);
draw_set_halign(fa_left);


var te;te="";if (target_comp=1) then te="1st";if (target_comp=2) then te="2nd";
if (target_comp=3) then te="3rd";if (target_comp&gt;3) then te=string(target_comp)+"th";
if (mouse_x&gt;=xx+1262) and (mouse_y&gt;=yy+82) and (mouse_x&lt;=xx+1417) and (mouse_y&lt;yy+103) then draw_set_alpha(0.8);
draw_text(xx+1262,yy+82,"Target: "+string(te)+" Company");


draw_set_alpha(1);
draw_set_font(fnt_40k_14);
draw_rectangle(xx+962,yy+107,xx+1579,yy+127,0);
draw_set_color(0);
draw_text(xx+962,yy+109,"Name");
draw_text(xx+1150,yy+109,"Stocked");
draw_text(xx+1330,yy+109,"Requisition");
draw_text(xx+962.5,yy+109.5,"Name");
draw_text(xx+1150.5,yy+109.5,"Stocked");
draw_text(xx+1330.5,yy+109.5,"Requisition");
draw_set_color(c_gray);


if (shop="warships"){
    if (construction_started&gt;0){
        var apa;apa=construction_started/30;draw_set_alpha(apa);
        draw_set_color(c_yellow);draw_set_halign(fa_center);
        draw_text_transformed(view_xview[0]+420,yy+370,"CONSTRUCTION STARTED!#ETA: "+string(eta)+" months",1.5,1.5,0);
        draw_set_halign(fa_left);draw_set_color(38144);
        draw_set_alpha(1);
    }
}

/*if (shop="vehicles"){
    var lol;
    lol=" ";if (target_comp=1) then lol="x";draw_text(xx+224,yy+377,"1st ["+string(lol)+"]");
    lol=" ";if (target_comp=2) then lol="x";draw_text(xx+301,yy+377,"2nd ["+string(lol)+"]");
    lol=" ";if (target_comp=3) then lol="x";draw_text(xx+378,yy+377,"3rd ["+string(lol)+"]");
    lol=" ";if (target_comp=4) then lol="x";draw_text(xx+455,yy+377,"4th ["+string(lol)+"]");
    lol=" ";if (target_comp=5) then lol="x";draw_text(xx+532,yy+377,"5th ["+string(lol)+"]");
    
    lol=" ";if (target_comp=6) then lol="x";draw_text(xx+224,yy+389,"6st ["+string(lol)+"]");
    lol=" ";if (target_comp=7) then lol="x";draw_text(xx+301,yy+389,"7nd ["+string(lol)+"]");
    lol=" ";if (target_comp=8) then lol="x";draw_text(xx+378,yy+389,"8rd ["+string(lol)+"]");
    lol=" ";if (target_comp=9) then lol="x";draw_text(xx+455,yy+389,"9th ["+string(lol)+"]");
    lol=" ";if (target_comp=10) then lol="x";draw_text(xx+532,yy+389,"10th ["+string(lol)+"]");
}*/

repeat(39){
    i+=1;y2+=20;
    if (item[i]!="") and (nobuy[i]=0){
        draw_set_color(c_gray);if (hover=i) then draw_set_color(c_white);
        if (!keyboard_check(vk_shift)) or (shop="warships") then draw_text(xx+x2+x_mod[i],yy+y2,item[i]);// Name
        if (keyboard_check(vk_shift)) and (shop!="warships") then draw_text(xx+x2+x_mod[i],yy+y2,string(item[i])+" x5");// Name
        
        if (item_stocked[i]=0) and ((mc_stocked[i]=0) or (shop!="equipment")) then draw_set_alpha(0.5);
        if (mc_stocked[i]=0) then draw_text(xx+1150,yy+y2,item_stocked[i]);// Stocked
        if (mc_stocked[i]&gt;0) then draw_text(xx+1150,yy+y2,string(item_stocked[i])+"   mc: "+string(mc_stocked[i]));
        draw_set_alpha(1);
        
        draw_sprite_ext(spr_requisition,0,xx+1330,yy+y2+4,1,0.65,0,c_white,1);
        draw_set_color(16291875);
        
        if (!keyboard_check(vk_shift)) and (obj_controller.requisition&lt;item_cost[i]) then draw_set_color(255);
        if (keyboard_check(vk_shift)) and (obj_controller.requisition&lt;(item_cost[i]*5)) then draw_set_color(255);
        if (!keyboard_check(vk_shift)) then draw_text(xx+1347,yy+y2,item_cost[i]);// Requisition
        if (keyboard_check(vk_shift)) then draw_text(xx+1347,yy+y2,item_cost[i]*5);// Requisition

        if (!keyboard_check(vk_shift)) and (obj_controller.requisition&lt;item_cost[i]) then draw_set_alpha(0.25);
        if (keyboard_check(vk_shift)) and (obj_controller.requisition&lt;(item_cost[i]*5)) then draw_set_alpha(0.25);
        draw_sprite(spr_build_tiny2,0,xx+1530,yy+y2+2);draw_set_alpha(1);
    }
    if (item[i]!="") and (nobuy[i]=1){
        draw_set_alpha(1);draw_set_color(881503);
        draw_text(xx+x2+x_mod[i],yy+y2,item[i]);// Name
        if (item_stocked[i]=0) then draw_set_alpha(0.5);
        draw_text(xx+1150,yy+y2,item_stocked[i]);// Stocked
        draw_set_alpha(1);
    }  
}


if (tooltip_show!=0){
    draw_set_color(0);draw_set_alpha(1);draw_set_font(fnt_40k_12);
    
    var tlp;tlp="";
    if (tooltip_weapon=1){
        // tlp=string(tooltip)+"#  ATT:"+string(tooltip_stat1)+"|ARP:"+string(tooltip_stat2)+" ";
        tlp=string(tooltip)+"#  DAM:"+string(tooltip_stat1)+"  ";
        if (tooltip_stat4&gt;0) then tlp+=" Ammo:"+string(tooltip_stat4);
        tlp+="  "+string(tooltip_other);
    }
    if (tooltip_weapon=2){
        tlp=string(tooltip);
        if (string_length(tooltip_other)&gt;0) then tlp+="#  "+string(tooltip_other)
    }
    if (tooltip_weapon=3){
        tlp=string(tooltip)+"#  Armor:"+string(tooltip_stat1);
        tlp+="  "+string(tooltip_other);
    }
    
    tooltip_width=string_width_ext(tlp,-1,400)+4;tooltip_height=string_height_ext(tlp,-1,400)+4;
    draw_rectangle(tooltip_x-2,tooltip_y,tooltip_x+tooltip_width,tooltip_y+tooltip_height,0);
    draw_set_color(c_gray);
    draw_rectangle(tooltip_x-2,tooltip_y,tooltip_x+tooltip_width,tooltip_y+tooltip_height,1);
    draw_text_ext(tooltip_x+2,tooltip_y+2,tlp,-1,400);
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
