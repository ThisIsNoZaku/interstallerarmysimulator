<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-900</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>
top=1;
entries=0;
scroll_cool=0;

var t;t=-1;
repeat(601){t+=1;
    event_text[t]="";event_date[t]="";
    event_turn[t]=0;event_height[t]=0;
    event_color[t]=0;
}

// Get upon load?
t=0;

if (file_exists("save"+string(obj_controller.load_game)+"log.ini")) and (obj_controller.good_log=1){
    ini_open("save"+string(obj_controller.load_game)+"log.ini");
    
    repeat(500){t+=1;
        event_text[t]=ini_read_string("Log",string("a."+string(t)),"");
        event_date[t]=ini_read_string("Log",string("b."+string(t)),"");
        event_turn[t]=ini_read_real("Log",string("c."+string(t)),0);
        event_color[t]=ini_read_string("Log",string("d."+string(t)),"");
    }
    
    ini_close();
}

// 
help=0;
help_topics=0;
topic="";
info="";
strategy="";
main_info="";
topics[0]="";
related[0]="";
related[1]="";
related[2]="";
related[3]="";

var e;e=-1;
repeat(101){e+=1;
    topics[e]="";
}

if (file_exists("help.ini")){
    ini_open("help.ini");var ch;ch=0;
    repeat(100){ch+=1;
        if (ini_section_exists(string(ch))){help_topics+=1;
            topics[help_topics]=ini_read_string(string(ch),"topic","Error");
        }
    }
    ini_close();
}

if (help_topics=0) and (help!=0) then instance_destroy();

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>
if (scroll_cool&gt;=0) then scroll_cool-=1;

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="6" enumb="61">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>
// if (scroll_cool&lt;=0){
    // scroll_cool=1;
    
    var t,p;ent=0;p=top-1;
    t=0;repeat(500){t+=1;if (event_text[t]!="") then ent+=1;}
    
    if (ent-24&gt;top) then top+=1;
    if (ent-24&gt;top) then top+=1;
// }

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="6" enumb="60">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>
// if (scroll_cool&lt;=0){
    // scroll_cool=1;
    if (top&gt;1) then top-=1;
    if (top&gt;1) then top-=1;
// }


</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>612</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>-1</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>1</exetype>
        <functionname>action_if_variable</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>0</kind>
            <string>help</string>
          </argument>
          <argument>
            <kind>0</kind>
            <string>0</string>
          </argument>
          <argument>
            <kind>4</kind>
            <string>0</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>
var bad;bad=1;
if (instance_exists(obj_controller)){
    if (obj_controller.menu=17){
        bad=0;
    }
}

if (bad=0){
    var xx,yy,ent;
    xx=view_xview[0]+0;
    yy=view_yview[0]+0;
    
    draw_set_alpha(1);draw_set_color(0);draw_rectangle(xx,yy,xx+1600,yy+900,0);
    draw_set_alpha(0.5);draw_sprite(spr_rock_bg,0,xx,yy);draw_set_alpha(1);
    
    draw_set_color(c_gray);// 38144
    draw_set_font(fnt_40k_30b);
    draw_set_halign(fa_center);
    draw_text(xx+800,yy+74,string(global.chapter_name)+" Event Log");
    draw_set_halign(fa_left);
    
    var t,p;ent=0;
    t=0;repeat(500){t+=1;if (event_text[t]!="") then ent+=1;}
    
    t=top-1;p=-1;
    draw_set_font(fnt_40k_14);draw_set_alpha(0.8);
    repeat(25){t+=1;p+=1;
        if (event_text[t]!=""){// 1554
            draw_set_color(38144);
            if (event_color[t]="red") then draw_set_color(c_red);
            if (event_color[t]="purple") then draw_set_color(c_purple);
            
            draw_text_ext(xx+25,yy+120+(p*26),string(event_date[t])+" (Turn "+string(event_turn[t])+") - "+string(event_text[t]),-1,1554);
        }
    }
    draw_set_color(38144);
    if (event_text[1]="") and (event_text[2]="") and (event_text[3]="") then draw_text(xx+25,yy+120,"No entries logged.");
    
    var x1,y1,x2,y2,cube,scrolly,chunk_size,my,y5;
    x1=xx+1557;y1=yy+117;
    x2=xx+1583;y2=yy+823;
    draw_rectangle(x1,y1,x2,y2,1);
    
    cubey=30;
    scrolly=(y2-y1)+12;// The maximum amount of moving around that the cube does
    my=max(1,ent-24);// The maximum number of scroll chunks
    chunk_size=scrolly/(my);
    
    y5=(top-1)*chunk_size;
    draw_rectangle(x1,y1+y5,x2,y1+y5+cubey,0);
}

draw_set_alpha(1);
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>612</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>-1</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>1</exetype>
        <functionname>action_if_variable</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>0</kind>
            <string>help</string>
          </argument>
          <argument>
            <kind>0</kind>
            <string>1</string>
          </argument>
          <argument>
            <kind>4</kind>
            <string>0</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>

var xx,yy;
xx=view_xview[0];
yy=view_yview[0];

draw_set_color(0);
draw_set_alpha(0.75);
draw_rectangle(0,0,room_width,room_height,0);

draw_set_alpha(1);
draw_sprite(spr_help_panel,0,xx,yy);

if (scr_hit(xx+1104,yy+72,xx+1137,yy+105)=false) then draw_sprite(spr_help_exit,0,xx+1104,yy+72);
if (scr_hit(xx+1104,yy+72,xx+1137,yy+105)=true){
    draw_sprite(spr_help_exit,1,xx+1104,yy+72);
    if (obj_controller.mouse_left=1) and (obj_controller.cooldown&lt;=0){
        with(obj_controller){menu=0;onceh=1;cooldown=8000;click=1;hide_banner=0;}help=0;
    }
}


var t,x1,y1;x1=0;y1=0;t=0;

draw_set_color(c_black);
draw_rectangle(xx+466,yy+136,xx+644,yy+166,0);
draw_set_color(c_gray);
draw_rectangle(xx+466+1,yy+136+1,xx+644-1,yy+166-1,1);
draw_rectangle(xx+466+2,yy+136+2,xx+644-2,yy+166-2,1);
draw_set_font(fnt_40k_14b);draw_set_halign(fa_left);
draw_text(xx+466+4,yy+136+6,"Topics");


x1=xx+466;y1=yy+166;

repeat(20){t+=1;
    if (topics[t]!=""){
        draw_set_color(c_gray);draw_set_alpha(0.75);
        if (topic=topics[t]) then draw_set_alpha(1);
        draw_text(x1+2,y1+2,string(topics[t]));
                
        if (scr_hit(x1,y1,x1+198,y1+22)=true){
            draw_set_alpha(0.2);draw_rectangle(x1,y1,x1+198,y1+22,0);
            draw_set_alpha(1);
            
            if (obj_controller.mouse_left=1) and (obj_controller.cooldown&lt;=0){
                obj_controller.cooldown=8000;topic=topics[t];
                ini_open("help.ini");
                info=ini_read_string(string(t),"info","");
                strategy=ini_read_string(string(t),"strategy","");
                main_info=ini_read_string(string(t),"main_info","");
                related[1]=ini_read_string(string(t),"related_1","");
                related[2]=ini_read_string(string(t),"related_2","");
                related[3]=ini_read_string(string(t),"related_3","");
                ini_close();
            }
        }
        
        y1+=24;
    }
}

draw_set_alpha(1);
draw_set_color(c_gray);
draw_set_halign(fa_center);
// draw_rectangle(xx+664,yy+148,xx+805,yy+316,0);


if (topic!=""){
    draw_set_font(fnt_40k_14b);
    draw_text_transformed(xx+897,yy+131,string(topic),1.25,1.25,0);
    
    draw_set_halign(fa_left);
    
    if (info!="") then draw_text(xx+663,yy+177,"Game Info:");
    draw_set_font(fnt_40k_14);
    var p1,y2;y2=0;p1=string(info);
    if (info!="") then draw_text_ext(xx+663,yy+197,string(p1),-1,469);
    
    if (info="") then y2-=40;
    
    if (strategy!=""){
        y2+=string_height_ext(string(p1),-1,469)+20;y2+=20;
        p1=string(strategy);
        draw_set_font(fnt_40k_14b);
        draw_text(xx+663,yy+177+y2,"Strategy:");
        draw_set_font(fnt_40k_14);y2+=20;
        draw_text_ext(xx+663,yy+177+y2,string(p1),-1,469);
    }
    if (main_info!=""){
        y2+=string_height_ext(string(p1),-1,469)+20;
        p1=string(main_info);
        draw_set_font(fnt_40k_14b);
        draw_text(xx+663,yy+177+y2,"Info:");
        draw_set_font(fnt_40k_14);y2+=20;
        draw_text_ext(xx+663,yy+177+y2,string(p1),-1,469);
    }
    if (related[1]!=""){
        y2+=string_height_ext(string(p1),-1,469)+20;p1="";
        if (related[1]!="") then p1+=string(related[1]);
        if (related[2]!="") then p1+=", "+string(related[2]);
        if (related[3]!="") then p1+=", "+string(related[3]);
        p1+=".";
        
        draw_set_font(fnt_40k_14b);
        draw_text(xx+663,yy+177+y2,"See Also:");
        draw_set_font(fnt_40k_14);y2+=20;
        draw_text_ext(xx+663,yy+177+y2,string(p1),-1,469);
    }
}






</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
