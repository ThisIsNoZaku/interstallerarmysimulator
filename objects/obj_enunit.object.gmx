<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_battle_block2</spriteName>
  <solid>-1</solid>
  <visible>-1</visible>
  <depth>-30000</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>
unit="";
men=0;
veh=0;
dreads=0;
medi=0;
owner=2;
engaged=0;
hostile_range=999;
hostile_splash=0;
flank=0;
flyer=0;// Works same as flank, but does not get denoted as such
neww=0;

highlight=0;
highlight2=0;
highlight3="";

enemy=0;
enemy2=0;



avg_attack=1;
avg_ranged=1;
avg_defense=1;
averages=1;


// x determines column; maybe every 10 or so?

var i;i=0;
i=0;
repeat(1001){i+=1;
    wep[i]="";
    wep_num[i]=0;
    combi[i]=0;
    range[i]=0;
    att[i]=0;
    apa[i]=0;
    ammo[i]=-1;
    splash[i]=0;
    wep_owner[i]="";
    
    dude_co[i]=0;
    dude_id[i]=0;
    
    dudes[i]="";
    dudes_special[i]="";
    dudes_num[i]=0;
    dudes_onum[i]=-1;
    dudes_ac[i]=0;
    dudes_hp[i]=0;
    dudes_dr[i]=1;
    dudes_vehicle[i]=0;
    dudes_damage[i]=0;
    dudes_exp[i]=0;
    dudes_powers[i]="";
    faith[i]=0;
    
    dudes_attack[i]=1;
    dudes_ranged[i]=1;
    dudes_defense[i]=1;
    
    dudes_wep1[i]="";
    dudes_wep2[i]="";
    dudes_gear[i]="";
    dudges_mobi[i]="";
}

alarm[1]=5;
alarm[5]=6;
if (obj_ncombat.enemy=1) then alarm[6]=10;

// if (obj_ncombat.enemy=1){alarm[1]=8;alarm[5]=10;}

</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>611</id>
        <kind>6</kind>
        <userelative>-1</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>pos</string>
          </argument>
          <argument>
            <kind>0</kind>
            <string>0</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>611</id>
        <kind>6</kind>
        <userelative>-1</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>diff</string>
          </argument>
          <argument>
            <kind>0</kind>
            <string>0</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>611</id>
        <kind>6</kind>
        <userelative>-1</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>siz</string>
          </argument>
          <argument>
            <kind>0</kind>
            <string>0</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="1" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>


// if (dudes[1]!="") then show_message(string(dudes[1])+"|"+string(dudes_num[1])+"|"+string(men+medi)+"|"+string(dudes_hp[1]));



if (obj_ncombat.started=1){
    // show_message(string(dudes[1])+"|"+string(dudes_num[1])+"|"+string(men+medi)+"|"+string(dudes_hp[1]));
    with(obj_enunit){if (flank=0) then x-=10;}
}


// show_message(men);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="8">
      <action>
        <libid>1</libid>
        <id>301</id>
        <kind>0</kind>
        <userelative>-1</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>1</exetype>
        <functionname>action_set_alarm</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>0</kind>
            <string>1</string>
          </argument>
          <argument>
            <kind>4</kind>
            <string>1</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="6">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>
repeat(10){
    if (!collision_point(x-10,y,obj_pnunit,0,1)) and (!collision_point(x-10,y,obj_enunit,0,1)) then x-=10;
}

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="5">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>

if (obj_ncombat.enemy=1){
    repeat(10){
        if (!collision_point(x-10,y,obj_pnunit,0,1)) and (!collision_point(x-10,y,obj_enunit,0,1)) then x-=10;
    }
}




exit;


if (dudes_num[1]=0) and (men=0){
    instance_destroy();
    exit;
}


/*show_message("Weapons in Column "+string(x/10)+"
"+string(wep_num[1])+"x "+string(wep[1])+": ATT"+string(att[1])+" ARP"+string(apa[1])+" ammo:"+string(ammo[1])+"
"+string(wep_num[2])+"x "+string(wep[2])+": ATT"+string(att[2])+" ARP"+string(apa[2])+" ammo:"+string(ammo[2])+"
"+string(wep_num[3])+"x "+string(wep[3])+": ATT"+string(att[3])+" ARP"+string(apa[3])+" ammo:"+string(ammo[3])+"
"+string(wep_num[4])+"x "+string(wep[4])+": ATT"+string(att[4])+" ARP"+string(apa[4])+" ammo:"+string(ammo[4])+"
"+string(wep_num[5])+"x "+string(wep[5])+": ATT"+string(att[5])+" ARP"+string(apa[5])+" ammo:"+string(ammo[5])+"
"+string(wep_num[6])+"x "+string(wep[6])+": ATT"+string(att[6])+" ARP"+string(apa[6])+" ammo:"+string(ammo[6])+"
"+string(wep_num[7])+"x "+string(wep[7])+": ATT"+string(att[7])+" ARP"+string(apa[7])+" ammo:"+string(ammo[7])+"
"+string(wep_num[8])+"x "+string(wep[8])+": ATT"+string(att[8])+" ARP"+string(apa[8])+" ammo:"+string(ammo[8])+"
"+string(wep_num[9])+"x "+string(wep[9])+": ATT"+string(att[9])+" ARP"+string(apa[9])+" ammo:"+string(ammo[9])+"
"+string(wep_num[10])+"x "+string(wep[10])+": ATT"+string(att[10])+" ARP"+string(apa[10])+" ammo:"+string(ammo[10]));


show_message("1: "+string(dudes[1])+" "+string(dudes_num[1])+" "+string(dudes_hp[1])+"
2: "+string(dudes[2])+" "+string(dudes_num[2])+" "+string(dudes_hp[2])+"
3: "+string(dudes[3])+" "+string(dudes_num[3])+" "+string(dudes_hp[3])+"
4: "+string(dudes[4])+" "+string(dudes_num[4])+" "+string(dudes_hp[4])+"
5: "+string(dudes[5])+" "+string(dudes_num[5])+" "+string(dudes_hp[5])+"
6: "+string(dudes[6])+" "+string(dudes_num[6])+" "+string(dudes_hp[6]));

*/


</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="1">
      <action>
        <libid>1</libid>
        <id>605</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>0</useapplyto>
        <exetype>0</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>Cleanup</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>var i,g;i=0;g=0;men=0;veh=0;medi=0;
repeat(20){i+=1;
    att[i]=0;apa[i]=0;wep_num[i]=0;wep_owner[i]="";
    
    // if (wep_owner[i]!="") and (wep_num[i]&gt;1) then wep_owner[i]="";// What if they are using two ranged weapons?  Hmmmmm?
}i=0;
// men=0;veh=0;

j=0;good=0;open=0;



repeat(700){j+=1;
    if (dudes_num[j]&lt;=0){
        dudes[j]="";dudes_special[j]="";dudes_num[j]=0;dudes_ac[j]=0;
        dudes_hp[j]=0;dudes_vehicle[j]=0;dudes_damage[j]=0;
        dudes_attack[j]=1;dudes_ranged[j]=1;dudes_defense[j]=1;
    }
    if (dudes[j]="") and (dudes[j+1]!=""){
        dudes[j]=dudes[j+1]dudes_special[j]=dudes_special[j+1];
        dudes_num[j]=dudes_num[j+1];dudes_ac[j]=dudes_ac[j+1];
        dudes_hp[j]=dudes_hp[j+1];dudes_vehicle[j]=dudes_vehicle[j+1];
        dudes_damage[j]=dudes_damage[j+1];dudes_attack[j]=dudes_attack[j+1];
        dudes_ranged[j]=dudes_ranged[j+1];dudes_defense[j]=dudes_defense[j+1];
        
        dudes[j+1]="";dudes_special[j+1]="";dudes_num[j+1]=0;dudes_ac[j+1]=0;
        dudes_hp[j+1]=0;dudes_vehicle[j+1]=0;dudes_damage[j+1]=0;
        dudes_ranged[j+1]=1;dudges_defense[j+1]=1;dudes_attack[j+1]=1;
    }
}
j=0;


/*var no_ap;no_ap=0;

repeat(18){j+=1;
    if (apa[j]=0) then no_ap+=1;
}

if (no_ap=18){
    if (dudes_veh
}*/



repeat(20){j+=1;
    if (obj_ncombat.started=0){if (dudes[j]="Malcadon Spyrer"){dudes_ac[j]=35;dudes_hp[j]=200;}}
    if (dudes[j]="Malcadon Spyrer"){men+=dudes_num[j];scr_en_weapon("Web Spinner",true,dudes_num[j],dudes[j],j);scr_en_weapon("Venom Claws",true,dudes_num[j],dudes[j],j);}


if ((obj_ncombat.started=0) or (neww=1)) or (dudes_num[j]&gt;1){if (dudes[j]="Greater Daemon of Khorne"){dudes_ac[j]=18;dudes_hp[j]=600;}}
if (dudes[j]=obj_img.unit[10,37]){scr_en_weapon("Khorne Demon Melee",true,dudes_num[j],dudes[j],j);dudes_dr[j]=0.5;medi+=dudes_num[j];if (obj_ncombat.battle_special="ship_demon") then dudes_dr[j]=0.65;}
if ((obj_ncombat.started=0) or (neww=1)) or (dudes_num[j]&gt;1){if (dudes[j]="Greater Daemon of Slaanesh"){dudes_ac[j]=18;dudes_hp[j]=500;}}
if (dudes[j]=obj_img.unit[10,38]){scr_en_weapon("Demon Melee",true,dudes_num[j],dudes[j],j);scr_en_weapon("Lash Whip",true,dudes_num[j],dudes[j],j);dudes_dr[j]=0.7;medi+=dudes_num[j];}
if ((obj_ncombat.started=0) or (neww=1)) or (dudes_num[j]&gt;1){if (dudes[j]="Greater Daemon of Nurgle"){dudes_ac[j]=25;dudes_hp[j]=700;}}
if (dudes[j]=obj_img.unit[10,39]){scr_en_weapon("Demon Melee",true,dudes_num[j],dudes[j],j);scr_en_weapon("Nurgle Vomit",true,dudes_num[j],dudes[j],j);dudes_dr[j]=0.6;medi+=dudes_num[j];}
if ((obj_ncombat.started=0) or (neww=1)) or (dudes_num[j]&gt;1){if (dudes[j]="Greater Daemon of Tzeentch"){dudes_ac[j]=18;dudes_hp[j]=500;}}
if (dudes[j]=obj_img.unit[10,40]){scr_en_weapon("Demon Melee",true,dudes_num[j],dudes[j],j);scr_en_weapon("Witchfire",true,dudes_num[j],dudes[j],j);dudes_dr[j]=0.7;medi+=dudes_num[j];}

if (dudes[j]=obj_img.unit[10,41]){scr_en_weapon("Bloodletter Melee",true,dudes_num[j],dudes[j],j);dudes_ac[j]=15;dudes_hp[j]=120;men+=dudes_num[j];dudes_dr[j]=0.7;}
if (dudes[j]=obj_img.unit[10,42]){scr_en_weapon("Daemonette Melee",true,dudes_num[j],dudes[j],j);dudes_ac[j]=15;dudes_hp[j]=100;men+=dudes_num[j];dudes_dr[j]=0.7;}
if (dudes[j]=obj_img.unit[10,43]){scr_en_weapon("Eldritch Fire",true,dudes_num[j],dudes[j],j);dudes_ac[j]=15;dudes_hp[j]=100;men+=dudes_num[j];dudes_dr[j]=0.8;}
if (dudes[j]=obj_img.unit[10,44]){scr_en_weapon("Plaguebearer Melee",true,dudes_num[j],dudes[j],j);dudes_ac[j]=15;dudes_hp[j]=145;men+=dudes_num[j];dudes_dr[j]=0.6;}

if (dudes[j]=obj_img.unit[10,45]){
    scr_en_weapon("Power Fist",false,dudes_num[j],dudes[j],j);
    scr_en_weapon("Multi-Melta",false,dudes_num[j],dudes[j],j);
    dudes_ac[j]=40;dudes_hp[j]=100;veh+=dudes_num[j];dudes_vehicle[j]=1;dudes_dr[j]=0.75;
}
if (dudes[j]=obj_img.unit[10,46]){
    scr_en_weapon("Warpsword",false,dudes_num[j],dudes[j],j);
    scr_en_weapon("Iron Claw",false,dudes_num[j],dudes[j],j);
    scr_en_weapon("Battle Cannon",false,dudes_num[j],dudes[j],j);
    dudes_ac[j]=30;dudes_hp[j]=350;veh+=dudes_num[j];dudes_vehicle[j]=1;dudes_dr[j]=1;
}
if (dudes[j]=obj_img.unit[10,47]){
    scr_en_weapon("Maulerfiend Claws",false,dudes_num[j],dudes[j],j);
    dudes_ac[j]=20;dudes_hp[j]=250;veh+=dudes_num[j];dudes_vehicle[j]=1;dudes_dr[j]=1;
}

}j=0;

neww=0;


if (men+veh=1) and (instance_number(obj_enunit)=1){
    if (men=1) and (veh=0){
        var i,h;i=0;h=0;
        repeat(20){if (h=0){i+=1;if (dudes_num[i]=1){
            h=dudes_hp[i];obj_ncombat.display_p2=h;
            obj_ncombat.display_p2n=string(dudes[i]);}
        }}
    }
}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>612</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>-1</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>1</exetype>
        <functionname>action_if_variable</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>0</kind>
            <string>obj_ncombat.enemy</string>
          </argument>
          <argument>
            <kind>0</kind>
            <string>1</string>
          </argument>
          <argument>
            <kind>4</kind>
            <string>0</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>
var j;j=0;men=0;
repeat(100){j+=1;veh=0;dreads=0;
    if (dudes[j]!="") and (dudes_vehicle[j]=0){
        men+=dudes_num[j];
    }
}

// show_message("dudes1:"+string(dudes[1])+", men:"+string(men));

var i,g;i=0;g=0;
repeat(100){i+=1;
    att[i]=0;apa[i]=0;wep_num[i]=0;wep_rnum[i]=0;
}i=0;

/*i=0;repeat(60){i+=1;
    lost[i]="";lost_num[i]=0;
}*/

var dreaded;dreaded=false;

repeat(700){g+=1;
    marine_casting[g]=0;

    // if (marine_casting[g]&gt;=0) then marine_casting[g]=0;
    // if (marine_casting[g]&lt;0) then marine_casting[g]+=1;
    
    // if ((marine_id[g]&gt;0) or (ally[g]=true)) and (marine_hp[g]&gt;0) then marine_dead[g]=0;
    if ((dudes[g]!="") and (dudes_num[g]&gt;0)) and (dudes_hp[g]&gt;0){
        // if (marine_hp[g]&gt;0) then men+=1;
        
        
        /*
        //scr_infantry_weapon
        // argument0: name
        // argument1: man?
        // argument2: number
        // argument3: owner
        // argument4: dudes number
        */
        
        
        if (dudes[g]=obj_ini.role[100,6]) or (dudes[g]="Venerable "+obj_ini.role[100,6]) and (dudes_hp[g]&gt;0){dreads+=1;dreaded=true;}
        if (dudes_mobi[g]="Bike") then scr_en_weapon("Twin Linked "+string(obj_img.gyro)+"s",false,1,dudes[g],g);
        if (dudes_mobi[g]!="Bike") and (dudes_mobi[g]!=""){if (string_count("Jump Pack",marine_mobi[g])&gt;0) then scr_en_weapon("hammer_of_wrath",false,1,dudes[g],g);}
        
        if (dudes_gear[g]="Servo Arms") then scr_en_weapon("Flamer",false,1,dudes[g],g);
        if (dudes_gear[g]="Master Servo Arms") then scr_en_weapon("Heavy Flamer",false,1,dudes[g],g);
        
        
        
        
        var j,good,open;j=0;good=0;open=0;// Counts the number and types of marines within this object
        repeat(20){j+=1;
            if (dudes[j]="") and (open=0){
                open=j;// Determine if vehicle here
                
                if (dudes[j]="Venerable "+string(obj_ini.role[100,6])) then dudes_vehicle[j]=1;
                if (dudes[j]=obj_ini.role[100,6]) then dudes_vehicle[j]=1;
            }
            // if (dudes[g]=dudes[j]){good=1;dudes_num[j]+=1;}
            // if (good=0) and (open!=0){dudes[open]=marine_type[g];dudes_num[open]=1;}
        }
        
        if (dudes_wep1[g]!="") and (marine_casting[g]!=1){// Do not add weapons to the roster while casting     
            if ((dudes[g]!=obj_img.faction_title[1])) then scr_en_weapon(string(dudes_wep1[g]),false,1,dudes[g],g);
            
            if (dudes_wep1[g]="Close Combat Weapon") then scr_en_weapon("CCW Heavy Flamer",true,1,dudes[g],g);
            if (string_count("UBL",dudes_wep1[g])&gt;0) then scr_en_weapon("Underslung "+string(obj_img.gyro),false,1,dudes[g],g);
            if (string_count("UFL",dudes_wep1[g])&gt;0) then scr_en_weapon("Underslung Flamer",false,1,dudes[g],g);
        }
        if (dudes_wep2[g]!="") and (marine_casting[g]!=1){
            if ((dudes[g]!=obj_img.faction_title[1])) then scr_en_weapon(string(dudes_wep2[g]),false,1,dudes[g],g);
            
            if (dudes_wep2[g]="Close Combat Weapon") then scr_en_weapon("CCW Heavy Flamer",true,1,dudes[g],g);
            if (string_count("UBL",dudes_wep2[g])&gt;0) then scr_en_weapon("Underslung "+string(obj_img.gyro),false,1,dudes[g],g);
            if (string_count("UFL",dudes_wep2[g])&gt;0) then scr_en_weapon("Underslung Flamer",false,1,dudes[g],g);
        }
    }
}


// Right here should be retreat- if important units are exposed they should try to hop left




/*if (dudes_num[1]=0) and (obj_ncombat.started=0){
    instance_destroy();
    exit;
}*/


if (men&gt;0) and (alarm[5]&gt;0) then alarm[5]=-1;
instance_activate_object(obj_enunit);


exit;

</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>605</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>0</useapplyto>
        <exetype>0</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string></string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>612</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>-1</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>1</exetype>
        <functionname>action_if_variable</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>0</kind>
            <string>obj_ncombat.enemy</string>
          </argument>
          <argument>
            <kind>0</kind>
            <string>2</string>
          </argument>
          <argument>
            <kind>4</kind>
            <string>0</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>
repeat(20){j+=1;
    if (dudes[j]=obj_img.unit[2,1]){dudes_ac[j]=20;dudes_hp[j]=20;men+=dudes_num[j];}
    
    if (dudes[j]=obj_img.unit[2,2]){scr_en_weapon("Heavy "+string(obj_img.gyro),true,dudes_num[j],dudes[j],j);dudes_ac[j]=0;dudes_hp[j]=100;men+=dudes_num[j];}
    
    if (dudes[j]=obj_img.unit[2,3]){
        scr_en_weapon("Ripper Gun",true,dudes_num[j],dudes[j],j);
        scr_en_weapon("Ogryn Melee",true,dudes_num[j],dudes[j],j);
        dudes_ac[j]=20;dudes_hp[j]=120;men+=dudes_num[j];
    }
    
    if (dudes[j]=obj_img.unit[2,4]){
        scr_en_weapon("Multi-Laster",false,dudes_num[j],dudes[j],j);scr_en_weapon("Heavy "+string(obj_img.gyro),false,dudes_num[j],dudes[j],j);
        dudes_ac[j]=20;dudes_hp[j]=150;veh+=dudes_num[j];dudes_vehicle[j]=1;
    }
    if (dudes[j]=obj_img.unit[2,5]){
        scr_en_weapon("Earthshaker Cannon",false,dudes_num[j],dudes[j],j);scr_en_weapon("Storm "+string(obj_img.gyro),false,dudes_num[j],dudes[j],j);
        dudes_ac[j]=15;dudes_hp[j]=150;veh+=dudes_num[j];dudes_vehicle[j]=1;
    }
    if (dudes[j]=obj_img.unit[2,6]){
        scr_en_weapon("Battle Cannon",false,dudes_num[j],dudes[j],j);scr_en_weapon(string(obj_img.laser)+"cannon",false,dudes_num[j],dudes[j],j);
        dudes_ac[j]=40;dudes_hp[j]=250;veh+=dudes_num[j];dudes_vehicle[j]=1;
    }
    if (dudes[j]=obj_img.unit[2,7]){
        scr_en_weapon("Demolisher Cannon",false,dudes_num[j],dudes[j],j);scr_en_weapon(string(obj_img.laser)+"cannon",false,dudes_num[j],dudes[j],j);
        dudes_ac[j]=40;dudes_hp[j]=250;veh+=dudes_num[j];dudes_vehicle[j]=1;
    }
    if (dudes[j]=obj_img.unit[2,8]){scr_en_weapon("Twin-Linked Lascannon",false,dudes_num[j]*3,dudes[j],j);dudes_ac[j]=20;dudes_hp[j]=300;veh+=dudes_num[j];dudes_vehicle[j]=1;}
    
}



// Twin-Linked Lascannon
// Multi-Laser
// Ripper Gun
// Earthshaker Cannon

// 0-10,000,000
// Leman Russ Battle Tank = min.1, max = /40000
// Leman Russ Demolisher = min.1, max = /60000
// Chimera = min.1, max = /60000

</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>612</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>-1</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>1</exetype>
        <functionname>action_if_variable</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>0</kind>
            <string>obj_ncombat.enemy</string>
          </argument>
          <argument>
            <kind>0</kind>
            <string>3</string>
          </argument>
          <argument>
            <kind>4</kind>
            <string>0</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>
repeat(20){j+=1;
    if (dudes[j]=obj_img.unit[3,1]){scr_en_weapon("Lightning Gun",true,dudes_num[j],dudes[j],j);scr_en_weapon("Thallax Melee",true,dudes_num[j],dudes[j],j);dudes_ac[j]=30;dudes_hp[j]=80;men+=dudes_num[j];}
    if (dudes[j]=obj_img.unit[3,2]){scr_en_weapon("Phased Plasma-fusil",true,dudes_num[j],dudes[j],j);dudes_ac[j]=25;dudes_hp[j]=150;medi+=dudes_num[j];}
}

// 
// 


</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>612</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>-1</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>1</exetype>
        <functionname>action_if_variable</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>0</kind>
            <string>obj_ncombat.enemy</string>
          </argument>
          <argument>
            <kind>0</kind>
            <string>5</string>
          </argument>
          <argument>
            <kind>4</kind>
            <string>0</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>
repeat(20){j+=1;
    if (dudes[j]="Leader"){
        scr_en_weapon("Blessed Weapon",true,dudes_num[j],dudes[j],j);
        scr_en_weapon("Laser Mace",true,dudes_num[j],dudes[j],j);
        scr_en_weapon("Infernus Pistol",true,dudes_num[j],dudes[j],j);
        dudes_ac[j]=35;
        if (obj_ncombat.started=0) or (dudes_num[j]&gt;1){dudes_hp[j]=200;}
        men+=dudes_num[j];dudes_dr[j]=0.33;
    }
    if (dudes[j]=obj_img.unit[5,1]){
        scr_en_weapon("Plasma Pistol",true,dudes_num[j],dudes[j],j);
        scr_en_weapon("Power Weapon",true,dudes_num[j],dudes[j],j);
        dudes_ac[j]=22;dudes_hp[j]=100;men+=dudes_num[j];dudes_dr[j]=0.5;
    }
    if (dudes[j]=obj_img.unit[5,2]){
        scr_en_weapon("Laspistol",true,dudes_num[j],dudes[j],j);
        dudes_ac[j]=0;dudes_hp[j]=30;men+=dudes_num[j];dudes_dr[j]=0.5;
    }
    
    
    if (dudes[j]=obj_img.unit[5,3]){
        scr_en_weapon("Electro-Flail",true,dudes_num[j],dudes[j],j);
        dudes_ac[j]=0;dudes_hp[j]=150;men+=dudes_num[j];dudes_dr[j]=0.65;
    }
    
    if (dudes[j]=obj_img.unit[5,4]){
        scr_en_weapon(string(obj_img.gyro),true,dudes_num[j],dudes[j],j);scr_en_weapon(string(obj_img.blade)+"sword",true,dudes_num[j],dudes[j],j);
        dudes_ac[j]=20;dudes_hp[j]=40;men+=dudes_num[j];dudes_dr[j]=0.65;
    }
    if (dudes[j]=obj_img.unit[5,5]){
        scr_en_weapon("Neural Whip",true,dudes_num[j],dudes[j],j);
        dudes_ac[j]=20;dudes_hp[j]=40;men+=dudes_num[j];dudes_dr[j]=0.75;
    }
    if (dudes[j]=obj_img.unit[5,6]){
        scr_en_weapon("Eviscerator",true,dudes_num[j],dudes[j],j);
        dudes_ac[j]=20;dudes_hp[j]=30;men+=dudes_num[j];dudes_dr[j]=0.75;
    }
    if (dudes[j]=obj_img.unit[5,7]){
        if (dudes_num[j]&lt;=4) then scr_en_weapon(string(obj_img.gyro),true,dudes_num[j],dudes[j],j);
        if (dudes_num[j]&gt;=5){var nem;nem=round(dudes_num[j]/4);
            scr_en_weapon("Flamer",true,nem,dudes[j],j);
            scr_en_weapon(string(obj_img.gyro),true,dudes_num[j]-nem,dudes[j],j);
        }
        scr_en_weapon("Sarissa",true,dudes_num[j],dudes[j],j);
        dudes_ac[j]=20;dudes_hp[j]=40;men+=dudes_num[j];dudes_dr[j]=0.8;
    }
    if (dudes[j]=obj_img.unit[5,8]){
        scr_en_weapon("Seraphim Pistols",true,dudes_num[j],dudes[j],j);scr_en_weapon(string(obj_img.blade)+"sword",true,dudes_num[j],dudes[j],j);
        dudes_ac[j]=20;dudes_hp[j]=40;men+=dudes_num[j];dudes_dr[j]=0.75;
    }
    if (dudes[j]=obj_img.unit[5,9]){
        scr_en_weapon("Meltagun",true,dudes_num[j],dudes[j],j);scr_en_weapon("Meltabomb",true,dudes_num[j],dudes[j],j);
        dudes_ac[j]=20;dudes_hp[j]=40;men+=dudes_num[j];dudes_dr[j]=0.75;
    }
    if (dudes[j]=obj_img.unit[5,10]){
        if (dudes_num[j]&lt;=3) then scr_en_weapon("Heavy "+string(obj_img.gyro),true,dudes_num[j],dudes[j],j);
        if (dudes_num[j]&gt;=4){var nem;nem=round(dudes_num[j]/4);
            scr_en_weapon("Missile Launcher",true,nem,dudes[j],j);
            scr_en_weapon("Heavy "+string(obj_img.gyro),true,dudes_num[j]-nem,dudes[j],j);
        }
        scr_en_weapon(string(obj_img.gyro_adj)+" Pistol",true,dudes_num[j],dudes[j],j);
        dudes_ac[j]=20;dudes_hp[j]=40;men+=dudes_num[j];dudes_dr[j]=0.75;
    }
    
    if (dudes[j]=obj_img.unit[5,11]){scr_en_weapon("Laspistol",true,dudes_num[j],dudes[j],j);scr_en_weapon("melee0.5",true,dudes_num[j],dudes[j],j);dudes_ac[j]=0;dudes_hp[j]=20;men+=dudes_num[j];}
    
    
    if (dudes[j]=obj_img.unit[5,12]){scr_en_weapon("Storm "+string(obj_img.gyro),false,dudes_num[j]*2,dudes[j],j);dudes_ac[j]=20;dudes_hp[j]=200;veh+=dudes_num[j];dudes_vehicle[j]=1;}
    
    if (dudes[j]=obj_img.unit[5,13]){scr_en_weapon("Heavy Flamer",false,dudes_num[j]*2,dudes[j],j);dudes_ac[j]=23;dudes_hp[j]=200;veh+=dudes_num[j];dudes_vehicle[j]=1;}
    
    if (dudes[j]=obj_img.unit[5,14]){
        scr_en_weapon("Twin Linked Heavy Flamers",false,dudes_num[j],dudes[j],j);
        dudes_ac[j]=20;dudes_hp[j]=200;veh+=dudes_num[j];dudes_vehicle[j]=1;
    }
    if (dudes[j]=obj_img.unit[5,15]){
        scr_en_weapon("Exorcist Missile Launcher",false,dudes_num[j],dudes[j],j);
        scr_en_weapon("Storm "+string(obj_img.gyro),false,dudes_num[j],dudes[j],j);
        dudes_ac[j]=30;
        if (obj_ncombat.started=0) or (dudes_num[j]&gt;1){dudes_hp[j]=300;}
        veh+=dudes_num[j];dudes_vehicle[j]=1;
    }
    
    if (dudes[j]=obj_img.unit[5,16]){
        scr_en_weapon("Close Combat Weapon",false,dudes_num[j]*2,dudes[j],j);
        scr_en_weapon("Heavy Flamer",false,dudes_num[j],dudes[j],j);
        dudes_ac[j]=35;dudes_hp[j]=150;veh+=dudes_num[j];dudes_vehicle[j]=1;
    }
    
    
    // if (obj_ncombat.enemy=11) and (dudes_vehicle[j]=0) and (dudes[j]!="Cultist"){dudes_dr[j]=0.8;}
    // if (obj_ncombat.enemy=11) and (dudes_vehicle[j]=1){dudes_dr[j]=0.75;}
    
    // if (dudes[j]!="") and (dudes_num[j]=0){dudes[j]="";dudes_num[j]=0;}
    if (dudes[j]!="") and (dudes_hp[j]=0){dudes[j]="";dudes_num[j]=0;}
    if (dudes_num[j]&gt;0) and (dudes_onum[j]=-1) then dudes_onum[j]=dudes_num[j];
    if (faith[j]&gt;0) then dudes_dr[j]=max(0.65,dudes_dr[j]+0.15);
}

</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>612</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>-1</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>1</exetype>
        <functionname>action_if_variable</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>0</kind>
            <string>obj_ncombat.enemy</string>
          </argument>
          <argument>
            <kind>0</kind>
            <string>6</string>
          </argument>
          <argument>
            <kind>4</kind>
            <string>0</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>
repeat(20){j+=1;
    if (dudes[j]="Leader"){scr_en_weapon("Singing Spear",true,dudes_num[j],dudes[j],j);scr_en_weapon("Singing Spear Throw",true,dudes_num[j],dudes[j],j);dudes_ac[j]=30;dudes_hp[j]=300;men+=dudes_num[j];dudes_dr[j]=0.5;}
    
    if (dudes[j]=obj_img.unit[6,1]){scr_en_weapon("Power Weapon",true,dudes_num[j],dudes[j],j);scr_en_weapon("Fusion Gun",true,dudes_num[j],dudes[j],j);dudes_ac[j]=20;dudes_hp[j]=150;men+=dudes_num[j];}    
    if (dudes[j]=obj_img.unit[6,2]){scr_en_weapon("Singing Spear",true,dudes_num[j],dudes[j],j);scr_en_weapon("Singing Spear Throw",true,dudes_num[j],dudes[j],j);dudes_ac[j]=30;dudes_hp[j]=150;men+=dudes_num[j];}
    if (dudes[j]=obj_img.unit[6,3]){scr_en_weapon("Witchblade",true,dudes_num[j],dudes[j],j);scr_en_weapon("Psyshock",true,dudes_num[j],dudes[j],j);dudes_ac[j]=20;dudes_hp[j]=100;men+=dudes_num[j];}
    if (dudes[j]=obj_img.unit[6,4]){scr_en_weapon("Wailing Doom",true,dudes_num[j],dudes[j],j);scr_en_weapon("Avatar Smite",true,dudes_num[j],dudes[j],j);dudes_ac[j]=40;dudes_hp[j]=300;veh+=dudes_num[j];}
    if (dudes[j]=obj_img.unit[6,5]){scr_en_weapon("Wailing Doom",true,dudes_num[j],dudes[j],j);scr_en_weapon("Avatar Smite",true,dudes_num[j],dudes[j],j);dudes_ac[j]=55;dudes_hp[j]=450;veh+=dudes_num[j];}
    if (dudes[j]=obj_img.unit[6,6]){scr_en_weapon("Wailing Doom",true,dudes_num[j],dudes[j],j);scr_en_weapon("Avatar Smite",true,dudes_num[j],dudes[j],j);dudes_ac[j]=70;dudes_hp[j]=600;veh+=dudes_num[j];}
    
    if (dudes[j]=obj_img.unit[6,7]){scr_en_weapon("Ranger Long Rifle",true,dudes_num[j],dudes[j],j);scr_en_weapon("Shuriken Pistol",true,dudes_num[j],dudes[j],j);dudes_ac[j]=10;dudes_hp[j]=30;men+=dudes_num[j];}
    if (dudes[j]=obj_img.unit[6,8]){scr_en_weapon("Pathfinder Long Rifle",true,dudes_num[j],dudes[j],j);scr_en_weapon("Melee1",true,dudes_num[j],dudes[j],j);dudes_ac[j]=10;dudes_hp[j]=60;men+=dudes_num[j];}
    if (dudes[j]=obj_img.unit[6,9]){scr_en_weapon("Avenger Shuriken Catapult",true,dudes_num[j],dudes[j],j);scr_en_weapon("Melee1",true,dudes_num[j],dudes[j],j);dudes_ac[j]=15;dudes_hp[j]=30;men+=dudes_num[j];}
    if (dudes[j]=obj_img.unit[6,10]){scr_en_weapon("Power Weapon",true,dudes_num[j],dudes[j],j);dudes_ac[j]=30;dudes_hp[j]=50;men+=dudes_num[j];}// Shimmershield 
    if (dudes[j]=obj_img.unit[6,11]){scr_en_weapon("Power Weapon",true,dudes_num[j],dudes[j],j);scr_en_weapon("Shuriken Pistol",true,dudes_num[j],dudes[j],j);dudes_ac[j]=15;dudes_hp[j]=30;men+=dudes_num[j];}
    if (dudes[j]=obj_img.unit[6,12]){scr_en_weapon("Executioner",true,dudes_num[j],dudes[j],j);dudes_ac[j]=30;dudes_hp[j]=50;men+=dudes_num[j];}
    if (dudes[j]=obj_img.unit[6,13]){
        scr_en_weapon("Scorpion Chainsword",true,dudes_num[j],dudes[j],j);
        scr_en_weapon("Shuriken Pistol",true,dudes_num[j],dudes[j],j);
        scr_en_weapon("Mandiblaster",true,dudes_num[j],dudes[j],j);
        dudes_ac[j]=20;dudes_hp[j]=30;men+=dudes_num[j];}
    if (dudes[j]=obj_img.unit[6,14]){
        scr_en_weapon("Biting Blade",true,dudes_num[j],dudes[j],j);
        scr_en_weapon("Scorpion's Claw",true,dudes_num[j],dudes[j],j);
        scr_en_weapon("Mandiblaster",true,dudes_num[j],dudes[j],j);
        dudes_ac[j]=30;dudes_hp[j]=50;men+=dudes_num[j];}
    if (dudes[j]=obj_img.unit[6,15]){
        scr_en_weapon("Fusion Gun",true,dudes_num[j],dudes[j],j);
        scr_en_weapon("Meltabomb",true,dudes_num[j],dudes[j],j);
        scr_en_weapon("Melee1",true,dudes_num[j],dudes[j],j);
        dudes_ac[j]=15;dudes_hp[j]=30;men+=dudes_num[j];}
    if (dudes[j]=obj_img.unit[6,16]){scr_en_weapon("Firepike",true,dudes_num[j],dudes[j],j);scr_en_weapon("Power Weapon",true,dudes_num[j],dudes[j],j);dudes_ac[j]=20;dudes_hp[j]=50;men+=dudes_num[j];} 
    if (dudes[j]=obj_img.unit[6,17]){scr_en_weapon("Deathspinner",true,dudes_num[j],dudes[j],j);dudes_ac[j]=15;dudes_hp[j]=30;men+=dudes_num[j];}
    if (dudes[j]=obj_img.unit[6,18]){scr_en_weapon("Dual Deathspinners",true,dudes_num[j],dudes[j],j);scr_en_weapon("Powerblades",true,dudes_num[j],dudes[j],j);dudes_ac[j]=20;dudes_hp[j]=50;men+=dudes_num[j];}
    if (dudes[j]=obj_img.unit[6,19]){scr_en_weapon("Reaper Launcher",true,dudes_num[j],dudes[j],j);scr_en_weapon("Melee1",true,dudes_num[j],dudes[j],j);dudes_ac[j]=20;dudes_hp[j]=30;men+=dudes_num[j];}
    if (dudes[j]=obj_img.unit[6,20]){scr_en_weapon("Eldar Missile Launcher",true,dudes_num[j],dudes[j],j);scr_en_weapon("Melee1",true,dudes_num[j],dudes[j],j);dudes_ac[j]=30;dudes_hp[j]=50;men+=dudes_num[j];}
    if (dudes[j]=obj_img.unit[6,21]){scr_en_weapon("Laser Lance",true,dudes_num[j],dudes[j],j);scr_en_weapon("Twin Linked Shuriken Catapult",true,dudes_num[j],dudes[j],j);dudes_ac[j]=20;dudes_hp[j]=30;men+=dudes_num[j];}
    
    if (dudes[j]=obj_img.unit[6,22]){scr_en_weapon("Shuriken Catapult",true,dudes_num[j],dudes[j],j);scr_en_weapon("Melee1",true,dudes_num[j],dudes[j],j);dudes_ac[j]=15;dudes_hp[j]=30;men+=dudes_num[j];}
    if (dudes[j]=obj_img.unit[6,23]){scr_en_weapon("Pulse Laser",false,dudes_num[j],dudes[j],j);dudes_ac[j]=15;dudes_hp[j]=70;men+=dudes_num[j];}
    
    if (dudes[j]=obj_img.unit[6,24]){scr_en_weapon("Power Weapon",true,dudes_num[j],dudes[j],j);scr_en_weapon("Fusion Pistol",true,dudes_num[j],dudes[j],j);dudes_ac[j]=30;dudes_hp[j]=50;men+=dudes_num[j];}
    if (dudes[j]=obj_img.unit[6,25]){scr_en_weapon("Plasma Pistol",true,dudes_num[j],dudes[j],j);scr_en_weapon("Harlequin's Kiss",true,dudes_num[j],dudes[j],j);dudes_ac[j]=30;dudes_hp[j]=75;men+=dudes_num[j];}
    if (dudes[j]=obj_img.unit[6,26]){scr_en_weapon("Wraithcannon",true,dudes_num[j],dudes[j],j);dudes_ac[j]=20;dudes_hp[j]=80;men+=dudes_num[j];}
    
    if (dudes[j]=obj_img.unit[6,27]){
        scr_en_weapon("Twin Linked Shuriken Catapult",false,dudes_num[j],dudes[j],j);
        scr_en_weapon("Pulse Laser",false,dudes_num[j],dudes[j],j);
        dudes_ac[j]=40;dudes_hp[j]=100;
        veh+=dudes_num[j];dudes_vehicle[j]=1;
    }
    if (dudes[j]=obj_img.unit[6,28]){
        scr_en_weapon("Pulse Laser",false,dudes_num[j],dudes[j],j);
        scr_en_weapon("Shuriken Cannon",false,dudes_num[j],dudes[j],j);
        scr_en_weapon("Bright Lance",false,dudes_num[j],dudes[j],j);
        dudes_ac[j]=40;dudes_hp[j]=200;
        veh+=dudes_num[j];dudes_vehicle[j]=1;
    }
    if (dudes[j]=obj_img.unit[6,29]){
        scr_en_weapon("Twin Linked Shuriken Catapult",false,dudes_num[j],dudes[j],j);
        scr_en_weapon("Prism Cannon",false,dudes_num[j],dudes[j],j);
        dudes_ac[j]=40;dudes_hp[j]=200;
        veh+=dudes_num[j];dudes_vehicle[j]=1;
    }
    if (dudes[j]=obj_img.unit[6,30]){
        scr_en_weapon("Twin Linked Doomweaver",false,dudes_num[j],dudes[j],j);
        dudes_ac[j]=40;dudes_hp[j]=170;
        veh+=dudes_num[j];dudes_vehicle[j]=1;
    }
    if (dudes[j]=obj_img.unit[6,31]){
        scr_en_weapon("Two Power Fists",false,dudes_num[j],dudes[j],j);
        scr_en_weapon("Flamer",false,dudes_num[j]*2,dudes[j],j);
        scr_en_weapon("Star Cannon",false,dudes_num[j],dudes[j],j);
        dudes_ac[j]=40;dudes_hp[j]=200;
        veh+=dudes_num[j];dudes_vehicle[j]=1;
    }
    
    if (dudes[j]=obj_img.unit[6,32]){
        scr_en_weapon("Two Power Fists",false,dudes_num[j],dudes[j],j);
        scr_en_weapon("Phantom Pulsar",false,dudes_num[j]*2,dudes[j],j);
        scr_en_weapon("Titan Starcannon",false,dudes_num[j],dudes[j],j);
        dudes_ac[j]=50;dudes_hp[j]=800;
        veh+=dudes_num[j];dudes_vehicle[j]=1;
    }
    
    
    
}

</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>612</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>-1</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>1</exetype>
        <functionname>action_if_variable</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>0</kind>
            <string>obj_ncombat.enemy</string>
          </argument>
          <argument>
            <kind>0</kind>
            <string>7</string>
          </argument>
          <argument>
            <kind>4</kind>
            <string>0</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>
repeat(20){j+=1;
    if (dudes[j]="Leader"){
        scr_en_weapon("Power Klaw",true,dudes_num[j],dudes[j],j);
        scr_en_weapon("Rokkit Launcha",true,dudes_num[j],dudes[j],j);
        scr_en_weapon("Big Shoota",true,dudes_num[j],dudes[j],j);
        dudes_ac[j]=37;
        if (obj_ncombat.started=0) or (dudes_num[j]&gt;1){dudes_hp[j]=600;}
        veh+=dudes_num[j];dudes_dr[j]=0.5;
    }
    
    if (dudes[j]=obj_img.unit[7,1]){scr_en_weapon("Choppa",true,dudes_num[j],dudes[j],j);scr_en_weapon("Big Shoota",true,dudes_num[j],dudes[j],j);dudes_ac[j]=25;if (obj_ncombat.started=0) or (dudes_num[j]&gt;1){dudes_hp[j]=150;}men+=dudes_num[j];}
    if (dudes[j]=obj_img.unit[7,2]){scr_en_weapon("Power Klaw",true,dudes_num[j],dudes[j],j);scr_en_weapon("Rokkit Launcha",true,dudes_num[j],dudes[j],j);dudes_ac[j]=30;if (obj_ncombat.started=0) or (dudes_num[j]&gt;1){dudes_hp[j]=200;}men+=dudes_num[j];}
    if (dudes[j]=obj_img.unit[7,3]){scr_en_weapon("Power Klaw",true,dudes_num[j],dudes[j],j);scr_en_weapon("Rokkit Launcha",true,dudes_num[j],dudes[j],j);dudes_ac[j]=37;if (obj_ncombat.started=0) or (dudes_num[j]&gt;1){dudes_hp[j]=300;}veh+=dudes_num[j];}
    
    if (dudes[j]=obj_img.unit[7,4]){scr_en_weapon("Grot Blasta",true,dudes_num[j],dudes[j],j);dudes_ac[j]=0;dudes_hp[j]=15;men+=dudes_num[j];}
    if (dudes[j]=obj_img.unit[7,5]){scr_en_weapon("Choppa",true,dudes_num[j],dudes[j],j);scr_en_weapon("Slugga",true,dudes_num[j],dudes[j],j);dudes_ac[j]=10;dudes_hp[j]=35;men+=dudes_num[j];}
    if (dudes[j]=obj_img.unit[7,6]){scr_en_weapon("Shoota",true,dudes_num[j],dudes[j],j);scr_en_weapon("Choppa",true,dudes_num[j],dudes[j],j);dudes_ac[j]=10;dudes_hp[j]=35;men+=dudes_num[j];}
    
    if (dudes[j]=obj_img.unit[7,7]){scr_en_weapon("Power Klaw",true,dudes_num[j],dudes[j],j);scr_en_weapon("Big Shoota",true,dudes_num[j],dudes[j],j);dudes_ac[j]=30;dudes_hp[j]=50;men+=dudes_num[j];}
    if (dudes[j]=obj_img.unit[7,8]){scr_en_weapon("Power Klaw",true,dudes_num[j],dudes[j],j);scr_en_weapon("Big Shoota",true,dudes_num[j],dudes[j],j);dudes_ac[j]=35;dudes_hp[j]=50;men+=dudes_num[j];}
    if (dudes[j]=obj_img.unit[7,9]){scr_en_weapon("Snazzgun",true,dudes_num[j],dudes[j],j);scr_en_weapon("Choppa",true,dudes_num[j],dudes[j],j);dudes_ac[j]=15;dudes_hp[j]=65;men+=dudes_num[j];}
    if (dudes[j]=obj_img.unit[7,10]){scr_en_weapon("Power Klaw",true,dudes_num[j],dudes[j],j);scr_en_weapon("Big Shoota",true,dudes_num[j],dudes[j],j);dudes_ac[j]=30;dudes_hp[j]=80;men+=dudes_num[j];}
    
    if (dudes[j]=obj_img.unit[7,11]){scr_en_weapon("Choppa",true,dudes_num[j],dudes[j],j);scr_en_weapon("Slugga",true,dudes_num[j],dudes[j],j);dudes_ac[j]=20;dudes_hp[j]=45;men+=dudes_num[j];}
    if (dudes[j]=obj_img.unit[7,12]){scr_en_weapon("Choppa",true,dudes_num[j],dudes[j],j);scr_en_weapon("Rokkit Launcha",true,dudes_num[j],dudes[j],j);dudes_ac[j]=10;dudes_hp[j]=35;men+=dudes_num[j];}
    if (dudes[j]=obj_img.unit[7,13]){scr_en_weapon("Choppa",true,dudes_num[j],dudes[j],j);scr_en_weapon("Burna",true,dudes_num[j],dudes[j],j);dudes_ac[j]=10;dudes_hp[j]=35;men+=dudes_num[j];}
    if (dudes[j]=obj_img.unit[7,14]){
        scr_en_weapon("Rokkit Launcha",true,dudes_num[j],dudes[j],j);
        scr_en_weapon("Tankbusta Bomb",true,dudes_num[j],dudes[j],j);
        scr_en_weapon("Melee1",true,dudes_num[j],dudes[j],j);
        dudes_ac[j]=10;dudes_hp[j]=50;men+=dudes_num[j];
    }
    if (dudes[j]=obj_img.unit[7,15]){scr_en_weapon("Choppa",true,dudes_num[j],dudes[j],j);scr_en_weapon("Slugga",true,dudes_num[j],dudes[j],j);dudes_ac[j]=10;dudes_hp[j]=35;dudes_special[j]="Jetpack";men+=dudes_num[j];}
    
    if (dudes[j]=obj_img.unit[7,16]){
        scr_en_weapon("Kannon",false,dudes_num[j],dudes[j],j);
        scr_en_weapon("Big Shoota",false,dudes_num[j]*2,dudes[j],j);
        scr_en_weapon("Rokkit Launcha",false,dudes_num[j]*2,dudes[j],j);
        dudes_ac[j]=40;dudes_hp[j]=200;
        veh+=dudes_num[j];dudes_vehicle[j]=1;
    }
    if (dudes[j]=obj_img.unit[7,17]){
        scr_en_weapon("Power Klaw",false,dudes_num[j]*2,dudes[j],j);
        scr_en_weapon("Big Shoota",false,dudes_num[j],dudes[j],j);
        scr_en_weapon("Rokkit Launcha",false,dudes_num[j],dudes[j],j);
        dudes_ac[j]=35;dudes_hp[j]=150;
        veh+=dudes_num[j];dudes_vehicle[j]=1;
    }
}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>612</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>-1</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>1</exetype>
        <functionname>action_if_variable</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>0</kind>
            <string>obj_ncombat.enemy</string>
          </argument>
          <argument>
            <kind>0</kind>
            <string>8</string>
          </argument>
          <argument>
            <kind>4</kind>
            <string>0</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>
repeat(20){j+=1;
    if (dudes[j]=obj_img.unit[8,1]){
        scr_en_weapon("Plasma Rifle",true,dudes_num[j],dudes[j],j);
        scr_en_weapon("Fusion Blaster",true,dudes_num[j],dudes[j],j);
        scr_en_weapon("Cyclic Ion Blaster",true,dudes_num[j],dudes[j],j);
        dudes_ac[j]=30;dudes_hp[j]=150;medi+=dudes_num[j];dudes_vehicle[j]=1;
    }
    if (dudes[j]=obj_img.unit[8,2]){
        scr_en_weapon("Plasma Rifle",true,dudes_num[j],dudes[j],j);scr_en_weapon("Burst Rifle",true,dudes_num[j],dudes[j],j);
        dudes_ac[j]=30;dudes_hp[j]=100;medi+=dudes_num[j];dudes_vehicle[j]=1;
    }
    if (dudes[j]=obj_img.unit[8,3]){
        scr_en_weapon("Plasma Rifle",true,dudes_num[j],dudes[j],j);scr_en_weapon("Missile Pod",true,dudes_num[j],dudes[j],j);
        dudes_ac[j]=30;dudes_hp[j]=75;medi+=dudes_num[j];dudes_vehicle[j]=1;
    }
    if (dudes[j]=obj_img.unit[8,4]){scr_en_weapon("Fusion Blaster",true,dudes_num[j]*2,dudes[j],j);dudes_ac[j]=30;dudes_hp[j]=75;medi+=dudes_num[j];dudes_vehicle[j]=1;}
    if (dudes[j]=obj_img.unit[8,5]){dudes_ac[j]=30;dudes_hp[j]=100;medi+=dudes_num[j];dudes_vehicle[j]=1;}
    
    if (dudes[j]=obj_img.unit[8,6]){
        scr_en_weapon("Smart Missile System",true,dudes_num[j]*2,dudes[j],j);scr_en_weapon("Small Railgun",true,dudes_num[j]*2,dudes[j],j);
        dudes_ac[j]=30;dudes_hp[j]=150;medi+=dudes_num[j];dudes_vehicle[j]=1;
    }
    if (dudes[j]=obj_img.unit[8,7]){scr_en_weapon("Burst Rifle",true,dudes_num[j],dudes[j],j);dudes_ac[j]=20;dudes_hp[j]=50;men+=dudes_num[j];dudes_vehicle[j]=1;}
    
    if (dudes[j]=obj_img.unit[8,8]){scr_en_weapon("Pulse Rifle",true,dudes_num[j],dudes[j],j);dudes_ac[j]=20;dudes_hp[j]=20;men+=dudes_num[j];}
    if (dudes[j]=obj_img.unit[8,9]){scr_en_weapon("Rail Rifle",true,dudes_num[j],dudes[j],j);dudes_ac[j]=20;dudes_hp[j]=20;men+=dudes_num[j];}
    if (dudes[j]=obj_img.unit[8,10]){scr_en_weapon("Kroot Rifle",true,dudes_num[j],dudes[j],j);scr_en_weapon("Melee2",true,dudes_num[j],dudes[j],j);dudes_ac[j]=5;dudes_hp[j]=30;men+=dudes_num[j];}
    if (dudes[j]=obj_img.unit[8,11]){scr_en_weapon("Vespid Crystal",true,dudes_num[j],dudes[j],j);scr_en_weapon("Melee2",true,dudes_num[j],dudes[j],j);dudes_ac[j]=10;dudes_hp[j]=50;men+=dudes_num[j];}
    
    if (dudes[j]=obj_img.unit[8,12]){scr_en_weapon("Smart Missile System",false,dudes_num[j],dudes[j],j);dudes_ac[j]=30;dudes_hp[j]=150;veh+=dudes_num[j];dudes_vehicle[j]=1;}
    if (dudes[j]=obj_img.unit[8,13]){
        scr_en_weapon("Railgun",false,dudes_num[j],dudes[j],j);
        scr_en_weapon("Smart Missile System",false,dudes_num[j],dudes[j],j);
        dudes_ac[j]=40;dudes_hp[j]=250;veh+=dudes_num[j];dudes_vehicle[j]=1;
    }
}

</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>612</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>-1</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>1</exetype>
        <functionname>action_if_variable</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>0</kind>
            <string>obj_ncombat.enemy</string>
          </argument>
          <argument>
            <kind>0</kind>
            <string>9</string>
          </argument>
          <argument>
            <kind>4</kind>
            <string>0</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>
repeat(20){j+=1;
    if (dudes[j]=obj_img.unit[9,1]){
        scr_en_weapon("Bonesword",true,dudes_num[j],dudes[j],j);
        scr_en_weapon("Lashwhip",true,dudes_num[j],dudes[j],j);
        scr_en_weapon("Heavy Venom Cannon",true,dudes_num[j],dudes[j],j);
        dudes_ac[j]=35;dudes_hp[j]=250;men+=dudes_num[j];
    }
    
    if (dudes[j]=obj_img.unit[9,2]){scr_en_weapon("Crushing Claws",true,dudes_num[j],dudes[j],j);dudes_ac[j]=30;dudes_hp[j]=100;men+=dudes_num[j];}
    if (dudes[j]=obj_img.unit[9,3]){scr_en_weapon("Rending Claws",true,dudes_num[j],dudes[j],j);scr_en_weapon("Devourer",true,dudes_num[j],dudes[j],j);dudes_ac[j]=20;dudes_hp[j]=100;men+=dudes_num[j];}
    if (dudes[j]=obj_img.unit[9,4]){scr_en_weapon("Zoanthrope Blast",false,dudes_num[j],dudes[j],j);dudes_ac[j]=40;dudes_hp[j]=200;dudes_dr[j]=0.5;medi+=dudes_num[j];dudes_vehicle[j]=1.5;}
    if (dudes[j]=obj_img.unit[9,5]){scr_en_weapon("Carnifex Claws",false,dudes_num[j],dudes[j],j);scr_en_weapon("Venom Cannon",false,dudes_num[j],dudes[j],j);dudes_ac[j]=40;dudes_hp[j]=300;dudes_dr[j]=0.75;veh+=dudes_num[j];dudes_vehicle[j]=1;}
    if (dudes[j]=obj_img.unit[9,6]){scr_en_weapon("Fleshborer",true,dudes_num[j]/10,dudes[j],j);dudes_ac[j]=0;dudes_hp[j]=20;men+=dudes_num[j];}
    if (dudes[j]=obj_img.unit[9,7]){scr_en_weapon("Scything Talons",true,dudes_num[j],dudes[j],j);dudes_ac[j]=0;dudes_hp[j]=20;men+=dudes_num[j];}
    
    if (dudes[j]=obj_img.unit[9,8]){scr_en_weapon("Autogun",true,dudes_num[j],dudes[j],j);scr_en_weapon("melee0.5",true,dudes_num[j],dudes[j],j);dudes_ac[j]=0;dudes_hp[j]=20;men+=dudes_num[j];}
    if (dudes[j]=obj_img.unit[9,9]){scr_en_weapon("Genestealer Claws",true,dudes_num[j],dudes[j],j);dudes_ac[j]=10;dudes_hp[j]=30;men+=dudes_num[j];}
    if (dudes[j]=obj_img.unit[9,10]){scr_en_weapon("Genestealer Claws",true,dudes_num[j],dudes[j],j);scr_en_weapon("Witchfire",true,dudes_num[j],dudes[j],j);dudes_ac[j]=20;dudes_hp[j]=150;dudes_dr[j]=0.75;men+=dudes_num[j];}
    if (dudes[j]=obj_img.unit[9,11]){scr_en_weapon("Autogun",false,dudes_num[j]*4,dudes[j],j);dudes_ac[j]=10;dudes_hp[j]=100;veh+=dudes_num[j];dudes_vehicle[j]=1;}
    if (dudes[j]=obj_img.unit[9,12]){scr_en_weapon("Lictor Claws",true,dudes_num[j],dudes[j],j);scr_en_weapon("Flesh Hooks",true,dudes_num[j],dudes[j],j);dudes_ac[j]=20;dudes_hp[j]=150;men+=dudes_num[j];}
    
    dudes_dr[j]+=0.25;
}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>612</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>-1</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>1</exetype>
        <functionname>action_if_variable</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>0</kind>
            <string>obj_ncombat.enemy</string>
          </argument>
          <argument>
            <kind>0</kind>
            <string>10</string>
          </argument>
          <argument>
            <kind>4</kind>
            <string>4</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>612</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>-1</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>1</exetype>
        <functionname>action_if_variable</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>0</kind>
            <string>obj_ncombat.enemy</string>
          </argument>
          <argument>
            <kind>0</kind>
            <string>12</string>
          </argument>
          <argument>
            <kind>4</kind>
            <string>1</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>
repeat(20){j+=1;
    if (dudes[j]="Leader") and (obj_controller.faction_gender[10]=1){
        scr_en_weapon("Meltagun",true,dudes_num[j],dudes[j],j);
        scr_en_weapon("Power Fist",true,dudes_num[j],dudes[j],j);
        dudes_ac[j]=40;
        if (obj_ncombat.started=0) or (dudes_num[j]&gt;1){dudes_hp[j]=300;}
        men+=dudes_num[j];dudes_dr[j]=0.5;
    }
    if (dudes[j]="Leader") and (obj_controller.faction_gender[10]=2){
        scr_en_weapon("Khorne Demon Melee",true,dudes_num[j]*2,dudes[j],j);dudes_ac[j]=44;
        if (obj_ncombat.started=0) or (dudes_num[j]&gt;1){dudes_hp[j]=300;}
        men+=dudes_num[j];dudes_dr[j]=0.4;
    }
    
    if (dudes[j]=obj_img.unit[10,1]){scr_en_weapon(string(obj_img.gyro_adj)+" Pistol",true,dudes_num[j],dudes[j],j);scr_en_weapon("Power Weapon",true,dudes_num[j],dudes[j],j);dudes_ac[j]=20;dudes_hp[j]=120;men+=dudes_num[j];dudes_dr[j]=0.5;}
    
    if (dudes[j]=obj_img.unit[10,2]){scr_en_weapon("Plasma Pistol",true,dudes_num[j],dudes[j],j);scr_en_weapon("Power Weapon",true,dudes_num[j],dudes[j],j);dudes_ac[j]=30;dudes_hp[j]=150;men+=dudes_num[j];}
    if (dudes[j]=obj_img.unit[10,3]){scr_en_weapon("Plasma Pistol",true,dudes_num[j],dudes[j],j);scr_en_weapon("Force Weapon",true,dudes_num[j],dudes[j],j);dudes_ac[j]=17;dudes_hp[j]=100;men+=dudes_num[j];}
    if (dudes[j]=obj_img.unit[10,4]){
    scr_en_weapon(string(obj_img.blade)+"fist",true,dudes_num[j],dudes[j],j);
    scr_en_weapon("Meltagun",true,dudes_num[j],dudes[j],j);
    scr_en_weapon("Flamer",true,dudes_num[j],dudes[j],j);
    dudes_ac[j]=30;dudes_hp[j]=100;men+=dudes_num[j];}
    
    if (dudes[j]=obj_img.unit[10,5]){scr_en_weapon("Power Fist",true,dudes_num[j],dudes[j],j);
        scr_en_weapon(string(obj_img.gyro),true,dudes_num[j],dudes[j],j);
        scr_en_weapon("Combi-Flamer",true,dudes_num[j],dudes[j],j);
        dudes_ac[j]=40;dudes_hp[j]=100;men+=dudes_num[j];dudes_dr[j]=0.7;
    }
    if (dudes[j]=obj_img.unit[10,6]){scr_en_weapon("Power Fist",true,dudes_num[j],dudes[j],j);
        scr_en_weapon(string(obj_img.gyro),true,dudes_num[j],dudes[j],j);
        scr_en_weapon("Combi-Flamer",true,dudes_num[j],dudes[j],j);
        dudes_ac[j]=40;dudes_hp[j]=120;men+=dudes_num[j];dudes_dr[j]=0.6;
    }
    if (dudes[j]=obj_img.unit[10,7]){scr_en_weapon("Power Fist",true,dudes_num[j]*2,dudes[j],j);
        scr_en_weapon("Meltagun",true,dudes_num[j],dudes[j],j);
        dudes_ac[j]=40;dudes_hp[j]=120;men+=dudes_num[j];dudes_dr[j]=0.6;
    }
    if (dudes[j]=obj_img.unit[10,8]){
        scr_en_weapon("Power Fist",true,dudes_num[j],dudes[j],j);scr_en_weapon("Obliterator Weapon",true,dudes_num[j],dudes[j],j);dudes_ac[j]=30;dudes_hp[j]=200;men+=dudes_num[j];
    }
    if (dudes[j]=obj_img.unit[10,9]){scr_en_weapon("Meltagun",true,dudes_num[j],dudes[j],j);scr_en_weapon(string(obj_img.blade)+"sword",true,dudes_num[j],dudes[j],j);dudes_ac[j]=17;dudes_hp[j]=125;men+=dudes_num[j];}
    if (dudes[j]=obj_img.unit[10,10]){scr_en_weapon("Meltagun",true,dudes_num[j],dudes[j],j);scr_en_weapon(string(obj_img.blade)+"sword",true,dudes_num[j],dudes[j],j);dudes_ac[j]=20;dudes_hp[j]=125;men+=dudes_num[j];dudes_dr[j]=0.75;}
    
    if (dudes[j]=obj_img.unit[10,11]){scr_en_weapon("Possessed Claws",true,dudes_num[j],dudes[j],j);dudes_ac[j]=17;dudes_hp[j]=100;men+=dudes_num[j];}
    if (dudes[j]=obj_img.unit[10,12]){scr_en_weapon(string(obj_img.gyro),true,dudes_num[j],dudes[j],j);scr_en_weapon(string(obj_img.blade)+"sword",true,dudes_num[j],dudes[j],j);dudes_ac[j]=17;dudes_hp[j]=100;men+=dudes_num[j];}
    if (dudes[j]=obj_img.unit[10,13]){scr_en_weapon("Missile Launcher",true,dudes_num[j],dudes[j],j);scr_en_weapon("Melee1",true,dudes_num[j],dudes[j],j);dudes_ac[j]=17;dudes_hp[j]=100;men+=dudes_num[j];}
    if (dudes[j]=obj_img.unit[10,14]){scr_en_weapon(string(obj_img.blade)+"sword",true,dudes_num[j],dudes[j],j);scr_en_weapon(string(obj_img.gyro_adj)+" Pistol",true,dudes_num[j],dudes[j],j);dudes_ac[j]=17;dudes_hp[j]=100;dudes_special[j]="Jump Pack";men+=dudes_num[j];}
    
    
    if (dudes[j]=obj_img.unit[10,15]){scr_en_weapon(string(obj_img.gyro),true,dudes_num[j],dudes[j],j);scr_en_weapon(string(obj_img.blade)+"axe",true,dudes_num[j],dudes[j],j);dudes_ac[j]=17;dudes_hp[j]=100;men+=dudes_num[j];}
    if (dudes[j]=obj_img.unit[10,16]){scr_en_weapon("Combi-Flamer",true,dudes_num[j],dudes[j],j);scr_en_weapon(string(obj_img.blade)+"axe",true,dudes_num[j],dudes[j],j);dudes_ac[j]=17;dudes_hp[j]=100;men+=dudes_num[j];}
    
    
    if (dudes[j]=obj_img.unit[10,17]){scr_en_weapon(string(obj_img.blade)+"axe",true,dudes_num[j],dudes[j],j);scr_en_weapon(string(obj_img.gyro_adj)+" Pistol",true,dudes_num[j],dudes[j],j);dudes_ac[j]=20;dudes_hp[j]=100;men+=dudes_num[j];}
    if (dudes[j]=obj_img.unit[10,18]){scr_en_weapon(string(obj_img.gyro),true,dudes_num[j],dudes[j],j);scr_en_weapon("Poison Chainsword",true,dudes_num[j],dudes[j],j);dudes_ac[j]=20;dudes_hp[j]=150;men+=dudes_num[j];}
    if (dudes[j]=obj_img.unit[10,19]){scr_en_weapon("Sonic Blaster",true,dudes_num[j],dudes[j],j);scr_en_weapon("Melee1",true,dudes_num[j],dudes[j],j);dudes_ac[j]=20;dudes_hp[j]=100;men+=dudes_num[j];}
    if (dudes[j]=obj_img.unit[10,20]){scr_en_weapon("Rubric "+string(obj_img.gyro),true,dudes_num[j],dudes[j],j);scr_en_weapon("Melee1",true,dudes_num[j],dudes[j],j);dudes_ac[j]=30;dudes_hp[j]=125;men+=dudes_num[j];}
    if (dudes[j]=obj_img.unit[10,21]){scr_en_weapon("Witchfire",true,dudes_num[j],dudes[j],j);scr_en_weapon("Force Weapon",true,dudes_num[j],dudes[j],j);dudes_ac[j]=30;dudes_hp[j]=150;men+=dudes_num[j];}
      
    if (dudes[j]=obj_img.unit[10,22]){scr_en_weapon("Autogun",true,dudes_num[j],dudes[j],j);scr_en_weapon("melee0.5",true,dudes_num[j],dudes[j],j);dudes_ac[j]=0;dudes_hp[j]=20;men+=dudes_num[j];}
    
    if (dudes[j]=obj_img.unit[10,23]){
        scr_en_weapon("Power Fist",false,dudes_num[j],dudes[j],j);scr_en_weapon("Meltagun",false,dudes_num[j],dudes[j],j);
        dudes_ac[j]=40;dudes_hp[j]=200;dudes_dr[j]=0.75;veh+=dudes_num[j];dudes_vehicle[j]=1;
    }
    if (dudes[j]=obj_img.unit[10,24]){scr_en_weapon("Storm "+string(obj_img.gyro),false,dudes_num[j]*2,dudes[j],j);dudes_ac[j]=20;dudes_hp[j]=200;veh+=dudes_num[j];dudes_vehicle[j]=1;}
    if (dudes[j]=obj_img.unit[10,25]){
        scr_en_weapon(string(obj_img.laser)+"cannon",false,dudes_num[j]*2,dudes[j],j);
        scr_en_weapon("Twin Linked Lascannon",false,dudes_num[j],dudes[j],j);
        dudes_ac[j]=30;dudes_hp[j]=300;veh+=dudes_num[j];dudes_vehicle[j]=1;
    }
    if (dudes[j]=obj_img.unit[10,26]){
        scr_en_weapon("Demolisher Cannon",false,dudes_num[j],dudes[j],j);
        scr_en_weapon("Havoc Launcher",false,dudes_num[j],dudes[j],j);
        dudes_ac[j]=40;dudes_hp[j]=300;veh+=dudes_num[j];dudes_vehicle[j]=1;
    }
    if (dudes[j]=obj_img.unit[10,27]){
        scr_en_weapon("Twin Linked Heavy "+string(obj_img.gyro)+"s",false,dudes_num[j],dudes[j],j);
        scr_en_weapon("Twin Linked Lascannon",false,dudes_num[j]*2,dudes[j],j);
        dudes_ac[j]=40;dudes_hp[j]=400;veh+=dudes_num[j];dudes_vehicle[j]=1;
    }
    if (dudes[j]=obj_img.unit[10,28]){scr_en_weapon("Baleflame",false,dudes_num[j]*5,dudes[j],j);dudes_ac[j]=25;dudes_hp[j]=400;veh+=dudes_num[j];dudes_vehicle[j]=1;}
    if (dudes[j]=obj_img.unit[10,29]){
        scr_en_weapon("Defiler Claws",false,dudes_num[j],dudes[j],j);
        scr_en_weapon("Battle Cannon",false,dudes_num[j],dudes[j],j);
        scr_en_weapon("Reaper Autocannon",false,dudes_num[j],dudes[j],j);
        scr_en_weapon("Flamer",false,dudes_num[j],dudes[j],j);
        dudes_ac[j]=40;dudes_hp[j]=300;veh+=dudes_num[j];dudes_vehicle[j]=1;
    }
    
    
    if (dudes[j]=obj_img.unit[10,30]){scr_en_weapon("Power Weapon",true,dudes_num[j],dudes[j],j);scr_en_weapon("Plasma Pistol",true,dudes_num[j],dudes[j],j);dudes_ac[j]=20;dudes_hp[j]=30;dudes_dr[j]=0.7;men+=dudes_num[j];}
    if (dudes[j]=obj_img.unit[10,31]){scr_en_weapon("Lasgun",true,dudes_num[j],dudes[j],j);scr_en_weapon("melee1",true,dudes_num[j],dudes[j],j);dudes_ac[j]=10;dudes_hp[j]=20;men+=dudes_num[j];}
    if (dudes[j]=obj_img.unit[10,32]){scr_en_weapon("melee1",true,dudes_num[j],dudes[j],j);dudes_ac[j]=0;dudes_hp[j]=30;men+=dudes_num[j];}
    if (dudes[j]=obj_img.unit[10,33]){scr_en_weapon("Daemonhost Claws",true,dudes_num[j],dudes[j],j);scr_en_weapon("Daemonhost_Powers",true,dudes_num[j],dudes[j],j);dudes_ac[j]=30;dudes_hp[j]=300;dudes_dr[j]=0.5;medi+=dudes_num[j];}
    
    
    if (dudes[j]=obj_img.unit[10,34]){
        scr_en_weapon("Autogun",false,dudes_num[j]*2,dudes[j],j);scr_en_weapon("Heavy "+string(obj_img.gyro),false,dudes_num[j],dudes[j],j);
        dudes_ac[j]=10;dudes_hp[j]=100;veh+=dudes_num[j];dudes_vehicle[j]=1;
    }
    
    if (dudes[j]=obj_img.unit[10,35]){
        scr_en_weapon("Battle Cannon",false,dudes_num[j],dudes[j],j);scr_en_weapon("Heavy "+string(obj_img.gyro),false,dudes_num[j],dudes[j],j);
        dudes_ac[j]=40;dudes_hp[j]=250;veh+=dudes_num[j];dudes_vehicle[j]=1;
    }
    if (dudes[j]=obj_img.unit[10,36]){
        scr_en_weapon("Earthshaker Cannon",false,dudes_num[j],dudes[j],j);scr_en_weapon("Heavy "+string(obj_img.gyro),false,dudes_num[j],dudes[j],j);
        dudes_ac[j]=20;dudes_hp[j]=150;veh+=dudes_num[j];dudes_vehicle[j]=1;
    }
    
    // if (obj_ncombat.enemy=11) and (dudes_vehicle[j]=0) and (dudes[j]!="Cultist"){dudes_dr[j]=0.8;}
    // if (obj_ncombat.enemy=11) and (dudes_vehicle[j]=1){dudes_dr[j]=0.75;}
    
    // if (dudes[j]!="") and (dudes_num[j]=0){dudes[j]="";dudes_num[j]=0;}
    if (dudes[j]!="") and (dudes_hp[j]=0){dudes[j]="";dudes_num[j]=0;}
}

</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>612</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>-1</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>1</exetype>
        <functionname>action_if_variable</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>0</kind>
            <string>obj_ncombat.enemy</string>
          </argument>
          <argument>
            <kind>0</kind>
            <string>13</string>
          </argument>
          <argument>
            <kind>4</kind>
            <string>0</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>
repeat(20){j+=1;
    
    if (dudes[j]=obj_img.unit[13,1]){
            scr_en_weapon("Staff of Light",true,dudes_num[j],dudes[j],j);
            scr_en_weapon("Staff of Light Shooting",true,dudes_num[j],dudes[j],j);
            if (obj_ncombat.started=0) or (dudes_num[j]&gt;1){dudes_ac[j]=25;dudes_hp[j]=300;}men+=dudes_num[j];
        }
    if (dudes[j]=obj_img.unit[13,2]){scr_en_weapon("Warscythe",true,dudes_num[j],dudes[j],j);dudes_ac[j]=35;dudes_hp[j]=100;men+=dudes_num[j];}
    
    if (dudes[j]=obj_img.unit[13,3]){scr_en_weapon("Melee5",true,dudes_num[j],dudes[j],j);dudes_ac[j]=25;dudes_hp[j]=100;men+=dudes_num[j];}
    if (dudes[j]=obj_img.unit[13,4]){scr_en_weapon("Gauss Flayer",true,dudes_num[j],dudes[j],j);scr_en_weapon("Melee3",true,dudes_num[j],dudes[j],j);dudes_ac[j]=25;dudes_hp[j]=100;men+=dudes_num[j];}
    if (dudes[j]=obj_img.unit[13,5]){scr_en_weapon("Gauss Blaster",true,dudes_num[j],dudes[j],j);scr_en_weapon("Melee3",true,dudes_num[j],dudes[j],j);dudes_ac[j]=25;dudes_hp[j]=100;men+=dudes_num[j];}
    
    if (dudes[j]=obj_img.unit[13,6]){
        scr_en_weapon("Wraith Claws",true,dudes_num[j],dudes[j],j);
        if (obj_ncombat.started=0) or (dudes_num[j]&gt;1){dudes_ac[j]=25;dudes_hp[j]=200;}men+=dudes_num[j];dudes_dr[j]=0.65;
    }
    if (dudes[j]=obj_img.unit[13,7]){scr_en_weapon("Gauss Cannon",true,dudes_num[j],dudes[j],j);scr_en_weapon("Melee3",true,dudes_num[j],dudes[j],j);dudes_ac[j]=25;dudes_hp[j]=175;men+=dudes_num[j];}
    
    if (dudes[j]=obj_img.unit[13,8]){
        scr_en_weapon("Gauss Particle Cannon",false,dudes_num[j]*1,dudes[j],j);
        scr_en_weapon("Overcharged Gauss Cannon",false,dudes_num[j]*2,dudes[j],j);
        scr_en_weapon("Claws",false,dudes_num[j]*5,dudes[j],j);
        if (obj_ncombat.started=0) or (dudes_num[j]&gt;1){dudes_ac[j]=30;dudes_hp[j]=600;}veh+=dudes_num[j];dudes_vehicle[j]=1;
    }
    if (dudes[j]=obj_img.unit[13,9]){
        scr_en_weapon("Claws",false,dudes_num[j]*2,dudes[j],j);
        if (obj_ncombat.started=0) or (dudes_num[j]&gt;1){dudes_ac[j]=30;dudes_hp[j]=300;}veh+=dudes_num[j];dudes_vehicle[j]=1;
    }
    if (dudes[j]=obj_img.unit[13,10]){scr_en_weapon("Melee3",false,dudes_num[j]*2,dudes[j],j);dudes_ac[j]=10;dudes_hp[j]=30;men+=dudes_num[j];dudes_vehicle[j]=0;}
    if (dudes[j]=obj_img.unit[13,11]){
        scr_en_weapon("Gauss Flux Arc",false,dudes_num[j]*4,dudes[j],j);
        scr_en_weapon("Particle Whip",false,dudes_num[j]*1,dudes[j],j);
        dudes_ac[j]=70;dudes_hp[j]=300;veh+=dudes_num[j];dudes_vehicle[j]=1;
        // was 50 / 500
    }
    if (dudes[j]=obj_img.unit[13,12]){
        scr_en_weapon("Gauss Flayer Array",false,dudes_num[j]*2,dudes[j],j);
        scr_en_weapon("Doomsday Cannon",false,dudes_num[j]*1,dudes[j],j);
        dudes_ac[j]=30;dudes_hp[j]=150;veh+=dudes_num[j];dudes_vehicle[j]=1;
    }
    
    // if (dudes_dr[j]&gt;0.8) then dudes_dr[j]=0.8;
}

</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>605</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>0</useapplyto>
        <exetype>0</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string></string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>
if (obj_ncombat.battle_special="ruins") or (obj_ncombat.battle_special="ruins_eldar"){var i;i=0;
    repeat(20){i+=1;
        if (dudes_vehicle[i]&gt;0) and (dudes_num[i]&gt;0){
            obj_ncombat.enemy_forces-=dudes_num[i];
            obj_ncombat.enemy_max-=dudes_num[i];
            dudes[i]="";dudes_special[i]="";dudes_num[i]=0;dudes_ac[i]=0;dudes_hp[i]=0;dudes_dr[i]=1;dudes_vehicle[i]=0;
        }
    }
}


if (men+veh+medi&lt;=0){
    instance_destroy();
    exit;
}

if (obj_ncombat.started=0){
    obj_ncombat.enemy_forces+=self.men+self.veh+self.medi;
}


if (!collision_point(x+10,y,obj_pnunit,0,1)) and (!collision_point(x-10,y,obj_pnunit,0,1)) then engaged=0;
if (collision_point(x+10,y,obj_pnunit,0,1)) or (collision_point(x-10,y,obj_pnunit,0,1)) then engaged=1;

if (neww=1) then neww=0;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>605</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>0</useapplyto>
        <exetype>0</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>Attack</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>404</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>-1</isquestion>
        <useapplyto>0</useapplyto>
        <exetype>1</exetype>
        <functionname>action_if_number</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>10</kind>
            <object>obj_pnunit</object>
          </argument>
          <argument>
            <kind>0</kind>
            <string>0</string>
          </argument>
          <argument>
            <kind>4</kind>
            <string>2</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>422</id>
        <kind>1</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>0</useapplyto>
        <exetype>0</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>



var leftest,charge,enemy2,chapter_fuck;
charge=0;enemy2=0;chapter_fuck=1;

// with(obj_pnunit){if (x&lt;-4000) or (defenses=1) then instance_deactivate_object(id);}

if (flank=0){
    leftest=instance_nearest(0,y,obj_enunit);// Left most enunit
    enemy=instance_nearest(4000,y,obj_pnunit);// Right most enemy
    enemy2=enemy;
    // if (collision_point(x-10,y,obj_pnunit,0,1)) then engaged=1;
    // if (!collision_point(x-10,y,obj_pnunit,0,1)) then engaged=0;
    
    
    if (leftest.id=self.id) and (!instance_exists(obj_nfort)){
        if (position_empty(x-10,y)) and (point_distance(x,y,(instance_nearest(x,y,obj_pnunit)).x,(instance_nearest(x,y,obj_pnunit)).y)&gt;10){
            with(obj_enunit){x-=10;}
        }
    }
    
    
    if (point_distance(x,0,enemy.x,0)&lt;5) then x+=10;
    // instance_activate_object(obj_cursor);
}
if (flank=1){
    enemy=instance_nearest(x,y,obj_pnunit);// Right most enemy
    enemy2=enemy;
    // if (collision_point(x+10,y,obj_pnunit,0,1)) then engaged=1;
    // if (!collision_point(x+10,y,obj_pnunit,0,1)) then engaged=0;
    if (position_empty(x+10,y)) then x+=10;
    
    if (!position_empty(x+10,y)) then engaged=1;// Quick smash
    // instance_activate_object(obj_cursor);
}

if (!collision_point(x+10,y,obj_pnunit,0,1)) and (!collision_point(x-10,y,obj_pnunit,0,1)) then engaged=0;
if (collision_point(x+10,y,obj_pnunit,0,1)) or (collision_point(x-10,y,obj_pnunit,0,1)) then engaged=1;


if (engaged=0){// Shooting
    var i,dist,block;i=0;dist=999;block=0;
    dist=point_distance(x,y,enemy.x,enemy.y)/10;
    
    var wall_exists;wall_exists=0;
    if (instance_exists(obj_nfort)){wall_exists=1;dist=2;}
    /*with(obj_pnunit){if (veh_type[1]="Defenses") then instance_create(x,y,obj_temp_inq);}
    if (instance_exists(obj_temp_inq)){
        enemy=instance_nearest(obj_temp_inq.x,obj_temp_inq.y,obj_pnunit);
        with(obj_temp_inq){instance_destroy();}
    }*/
    
    if (!instance_exists(obj_pnunit)) then exit;
    
    repeat(30){chapter_fuck=1;
        if (!instance_exists(obj_pnunit)) then exit;
        if (instance_exists(enemy)) and (instance_exists(obj_pnunit)){
            if (enemy.x&lt;-4000){
                if (flank=0){enemy=instance_nearest(4000,y,obj_pnunit);enemy2=enemy;dist=point_distance(x,y,enemy.x,enemy.y)/10;}
                if (flank=1){enemy=instance_nearest(0,y,obj_pnunit);enemy2=enemy;dist=point_distance(x,y,enemy.x,enemy.y)/10;}
            }
        }
        if (!instance_exists(enemy)) and (instance_exists(obj_pnunit)){
            if (flank=0){enemy=instance_nearest(4000,y,obj_pnunit);enemy2=enemy;dist=point_distance(x,y,enemy.x,enemy.y)/10;}
            if (flank=1){enemy=instance_nearest(0,y,obj_pnunit);enemy2=enemy;dist=point_distance(x,y,enemy.x,enemy.y)/10;}
        }
        
        if (instance_exists(enemy)) and (instance_exists(obj_pnunit)){
            i+=1;block=0;
            if (flank=0){enemy=instance_nearest(4000,y,obj_pnunit);enemy2=enemy;dist=point_distance(x,y,enemy.x,enemy.y)/10;}
            if (flank=1){enemy=instance_nearest(0,y,obj_pnunit);enemy2=enemy;dist=point_distance(x,y,enemy.x,enemy.y)/10;}
            if (enemy.men+enemy.veh&lt;=0){var x5;x5=enemy.x;with(enemy){x=-100;instance_deactivate_object(id);}enemy=instance_nearest(4000,y,obj_pnunit);enemy2=enemy;}
        
            if (instance_exists(obj_nfort)) and (obj_nfort.hp[1]&gt;0){// Give the wall the melee D
                enemy=instance_nearest(x,y,obj_nfort);
                var bug1;bug1=instance_nearest(40,y,obj_enunit);
                if (range[i]=1) and (bug1.id=self.id) then range[i]=2;
                enemy2=enemy;dist=2;
            }
            
            if (wep[i]!="") and (wep_num[i]&gt;0) and (range[i]&gt;=dist) and (range[i]!=1) and (combi[i]&lt;2) and (ammo[i]!=0){// Weapon meets preliminary checks
                
                var ap;ap=0;if (apa[i]&gt;0) then ap=1;// Determines if it is AP or not
                // if (string_count("Gauss",wep[i])&gt;0) then ap=1;
                
                // show_message(string(wep[i])+" is in range and AP:"+string(ap));
                
                if (wep[i]="Missile Launcher") or (wep[i]="Rokkit Launcha") or (wep[i]="Kannon") then ap=1;
                if (wep[i]="Big Shoota") then ap=0;if (wep[i]="Devourer") then ap=0;
                if (wep[i]="Gauss Particle Cannon") or (wep[i]="Overcharged Gauss Cannon") or (wep[i]="Particle Whip") then ap=1;
                
                
                
                if ((wep[i]="Power Fist") or (wep[i]=string(obj_img.gyro))) and (obj_ncombat.alpha_strike&gt;0) and (wep_num[i]&gt;5){
                    obj_ncombat.alpha_strike-=0.5;
                    
                    with(obj_temp5){instance_destroy();}
                    with(obj_pnunit){
                        var i;i=0;
                        repeat(200){
                            i+=1;if (marine_type[i]=obj_img.faction_title[1]){
                                obj_ncombat.hue=i;instance_create(x,y,obj_temp5);
                            }
                        }
                    }
                    if (instance_exists(obj_temp5)){
                        enemy=instance_nearest(obj_temp5.x,obj_temp5.y,obj_pnunit);
                        chapter_fuck=obj_ncombat.hue;with(obj_temp5){instance_destroy();}
                    }
                }
                
                
                
                if (ap=1) and ((!instance_exists(obj_nfort)) or (flank=1)){// Check for vehicles
                    var g,good,enemy2;g=0;good=0;
                    
                    if (enemy.veh+enemy.dreads&gt;0) or (enemy.veh_type[1]="Defenses"){
                        // good=scr_target(enemy,"veh");// First target has vehicles, blow it to hell
                        scr_shoot(i,enemy,chapter_fuck,"arp","ranged");
                    }
                    if (good=0) and (instance_number(obj_pnunit)&gt;1) and (obj_ncombat.enemy!=7){// First target does not have vehicles, cycle through objects to find one that has vehicles
                        var x2;x2=enemy.x;
                        repeat(instance_number(obj_pnunit)-1){
                            if (good=0){
                                if (flank=0) then x2-=10;
                                if (flank=1) then x2+=10;
                                enemy2=instance_nearest(x2,y,obj_pnunit);
                                if (enemy2.veh+enemy2.dreads&gt;0) and (good=0){
                                    // good=scr_target(enemy2,"veh");// This target has vehicles, blow it to hell
                                    scr_shoot(i,enemy2,chapter_fuck,"arp","ranged");
                                }
                            }
                        }
                    }
                    if (good=0) then ap=0;// Fuck it, shoot at infantry
                }
                if (ap=1) and (instance_exists(obj_nfort)) and (flank=0){// Huff and puff and blow the wall down
                    enemy=instance_nearest(x,y,obj_nfort);
                    
                    scr_shoot(i,enemy,1,"arp","wall");
                }
                
                // if (wall_exists=0) or (flank=1) 
                
                
                if (string_count("Gauss",wep[i])&gt;0) then ap=0;
                
                if (ap=0) and ((!instance_exists(obj_nfort)) or (flank=1)) and (instance_exists(obj_pnunit)) and (instance_exists(enemy)){// Check for men
                    var g,good,enemy2;g=0;good=0;
                    if ((enemy.men-enemy.dreads)&gt;0){
                        // good=scr_target(enemy,"men");// First target has vehicles, blow it to hell
                        scr_shoot(i,enemy,chapter_fuck,"att","ranged");
                    }
                    
                    // First target does not have vehicles, cycle through objects to find one that has vehicles
                    // Note that unless the player has 10+ vehicles in the front rank they can fire on through
                    
                    if (good=0) and (instance_number(obj_pnunit)&gt;1) and (enemy.veh+enemy.dreads&lt;=10){
                        var x2;x2=enemy.x;
                        repeat(instance_number(obj_pnunit)-1){
                            if (good=0){
                                if (flank=0) then x2-=10;
                                if (flank=1) then x2+=10;
                                enemy2=instance_nearest(x2,y,obj_pnunit);
                                
                                var j,totes;j=0;totes=0;
                                repeat(600){j+=1;
                                    if (enemy2.marine_hp[j]&gt;0){
                                        if (enemy2.marine_type[j]=obj_ini.role[100,6]) then totes+=1;
                                        if (enemy2.marine_type[j]="Venerable "+string(obj_ini.role[100,6])) then totes+=1;
                                    }
                                    if (enemy2.veh_hp[j]&gt;0){
                                        if (enemy2.veh_type[i]=string(obj_img.unit[1,18])) then totes+=1;
                                        if (enemy2.veh_type[i]=string(obj_img.unit[1,19])) then totes+=1;
                                        if (enemy2.veh_type[i]=string(obj_img.unit[1,21])) then totes+=1;
                                    }
                                }
                                
                                // show_message(totes);
                                
                                // if (enemy2.veh+enemy2.dreads&gt;10) then block=1;
                                if (totes&gt;=10) then block=1;
                                
                                // if (enemy2.men-enemy2.dreads&gt;0) and (good=0) and (block=0){
                                if (enemy2.men-enemy2.dreads&gt;0) and (good=0) and (block=0){
                                    // good=scr_target(enemy2,"men");// This target has men, blow it to hell
                                    scr_shoot(i,enemy2,chapter_fuck,"att","ranged");
                                }
                            }
                        }
                    }
                }
                
                
                
            }
        }
    }
}


if (!instance_exists(enemy)) or (!instance_exists(obj_pnunit)) then exit;
 if ((engaged=1) or (enemy.engaged=1) and (instance_exists(enemy))) and (instance_exists(obj_pnunit)){// Melee
    engaged=1;
    var i,dist,no_ap;i=0;dist=999;no_ap=1;
    // dist=point_distance(x,y,enemy.x,enemy.y)/10;
    
    if (instance_exists(obj_pnunit)) then repeat(30){i+=1;var ap;ap=0;
        if (!instance_exists(obj_pnunit)) then exit;
        if (flank=0){enemy=instance_nearest(4000,y,obj_pnunit);enemy2=enemy;dist=point_distance(x,y,enemy.x,enemy.y)/10;}
        if (flank=1){enemy=instance_nearest(0,y,obj_pnunit);enemy2=enemy;dist=point_distance(x,y,enemy.x,enemy.y)/10;}
    
        
        if (enemy.men+enemy.veh&lt;=0){var x5;x5=enemy.x;with(enemy){x=-100;instance_deactivate_object(id);}enemy=instance_nearest(4000,y,obj_pnunit);enemy2=enemy;}
    
        
        
        if (ap=1) and (instance_exists(obj_nfort)) and (flank=0){// Huff and puff and blow the wall down
            enemy=instance_nearest(x,y,obj_nfort);
            scr_shoot(i,enemy,1,"arp","wall");
        }
        
        
        if (apa[i]=0) or (apa[i]&lt;att[i]) then no_ap+=1;
        
        if (wep[i]!="") and (wep_num[i]&gt;0) and (range[i]&gt;=dist) and ((range[i]&lt;=2) or ((floor(range[i])!=range[i]))){// Weapon meets preliminary checks
            if (apa[i]&gt;att[i]) then ap=1;// Determines if it is AP or not
            
            if (ap=1){// Check for vehicles
                var g,good,enemy2;g=0;good=0;
                
                if (enemy.veh+enemy.dreads&gt;0){
                    // good=scr_target(enemy,"veh");// First target has vehicles, blow it to hell
                    scr_shoot(i,enemy,1,"arp","melee");
                }
                if (good=0) then ap=0;// Fuck it, shoot at infantry
            }
            if (ap=0) and (instance_exists(enemy)){// Check for men
                // show_message(string(wep[i]));
                var g,good,enemy2;g=0;good=0;
                if ((enemy.men-enemy.dreads)&gt;0){
                    // good=scr_target(enemy,"men");// First target has vehicles, blow it to hell
                    scr_shoot(i,enemy,1,"att","melee");
                }
                if (enemy.dreads+enemy.veh&gt;0){
                    scr_shoot(i,enemy,1,"arp","melee");// Swing anyways, maybe they'll get lucky
                }
            }
            
            
            
        }
   
    }
    
    
    // if (no_ap=30) and (enemy.men=0) and (flank=0){// Next turn?
        
    // }
    
    
    
}


instance_activate_object(obj_pnunit);
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>612</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>-1</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>1</exetype>
        <functionname>action_if_variable</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>0</kind>
            <string>image_index</string>
          </argument>
          <argument>
            <kind>0</kind>
            <string>-500</string>
          </argument>
          <argument>
            <kind>4</kind>
            <string>0</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>



var leftest,charge,enemy2;charge=0;enemy2=0;

with(obj_pnunit){if (x&lt;-4000) then instance_deactivate_object(id);}

if (flank=0){
    leftest=instance_nearest(0,y,obj_enunit);// Left most enunit
    enemy=instance_nearest(4000,y,obj_pnunit);// Right most enemy
    enemy2=enemy;
    // if (collision_point(x-10,y,obj_pnunit,0,1)) then engaged=1;
    // if (!collision_point(x-10,y,obj_pnunit,0,1)) then engaged=0;
    if (leftest.id=self.id) and (!instance_exists(obj_nfort)){
        // instance_deactivate_object(obj_cursor);
        if (position_empty(x-10,y)){
            with(obj_enunit){x-=10;}
        }
    }
    // instance_activate_object(obj_cursor);
}
if (flank=1){
    enemy=instance_nearest(x,y,obj_pnunit);// Right most enemy
    enemy2=enemy;
    // if (collision_point(x+10,y,obj_pnunit,0,1)) then engaged=1;
    // if (!collision_point(x+10,y,obj_pnunit,0,1)) then engaged=0;
    if (position_empty(x+10,y)) then x+=10;
    
    if (!position_empty(x+10,y)) then engaged=1;// Quick smash
    // instance_activate_object(obj_cursor);
}

if (!collision_point(x+10,y,obj_pnunit,0,1)) and (!collision_point(x-10,y,obj_pnunit,0,1)) then engaged=0;
if (collision_point(x+10,y,obj_pnunit,0,1)) or (collision_point(x-10,y,obj_pnunit,0,1)) then engaged=1;



var range_shooti;

    i=0;
    
    
    repeat(30){i+=1;


    
    dist=floor(point_distance(enemy2.x,enemy2.y,x,y)/10);
    
    
    
    
    
    range_shoot="";
    
    if (wep[i]!="") and (range[i]&gt;=dist) and (ammo[i]!=0){
        if (range[i]!=1) and (engaged=0) then range_shoot="ranged";
        if ((range[i]!=floor(range[i])) or (range[i]=1)) and (engaged=1) then range_shoot="melee";
    }
    
    
    
    
    
    
    
    if (wep[i]!="") and (range_shoot="ranged") and (range[i]&gt;=dist){// Weapon meets preliminary checks
        var ap;ap=0;if (apa[i]&gt;att[i]) then ap=1;// Determines if it is AP or not
        
        // if (wep[i]="Missile Launcher") then ap=1;
        
        if (string_count("Gauss",wep[i])&gt;0) then ap=1;
        
        if (wep[i]="Missile Launcher") or (wep[i]="Rokkit Launcha") or (wep[i]="Kannon") then ap=1;
        if (wep[i]="Big Shoota") then ap=0;if (wep[i]="Devourer") then ap=0;
        if (wep[i]="Gauss Particle Cannon") or (wep[i]="Overcharged Gauss Cannon") or (wep[i]="Particle Whip") then ap=1;
        
        
        if (instance_exists(enemy2)){
            if (enemy2.veh+enemy2.dreads&gt;0) and (enemy2.men=0) and (apa[i]&gt;10) then ap=1;
            
            if (ap=1) and (once_only=0){// Check for vehicles
                var g,good;g=0;good=0;
                
                if (enemy.veh&gt;0){
                    // good=scr_target(enemy,"veh");// First target has vehicles, blow it to hell
                    scr_shoot(i,enemy2,good,"arp","ranged");
                }
                if (good=0) and (instance_number(obj_pnunit)&gt;1){// First target does not have vehicles, cycle through objects to find one that has vehicles
                    var x2;x2=enemy2.x;
                    repeat(instance_number(obj_enunit)-1){
                        if (good=0){
                            x2+=10;enemy2=instance_nearest(x2,y,obj_pnunit);
                            if (enemy2.veh+enemy2.dreads&gt;0) and (good=0){
                                good=scr_target(enemy2,"veh");// This target has vehicles, blow it to hell
                                scr_shoot(i,enemy2,good,"arp","ranged");once_only=1;
                            }
                        }
                    }
                }
                if (good=0) then ap=0;// Fuck it, shoot at infantry
            }
        }
        
        
        
        
        
        
        
        
        
        
    }



}





/*
// if (engaged=0){// Shooting
    var i,dist,block;i=0;dist=999;block=0;
    dist=point_distance(x,y,enemy.x,enemy.y)/10;
    
    repeat(30){
        if (instance_exists(enemy)){
            if (enemy.x&lt;-4000){
                if (flank=0){enemy=instance_nearest(4000,y,obj_pnunit);enemy2=enemy;dist=point_distance(x,y,enemy.x,enemy.y)/10;}
                if (flank=1){enemy=instance_nearest(0,y,obj_pnunit);enemy2=enemy;dist=point_distance(x,y,enemy.x,enemy.y)/10;}
            }
        }
        if (!instance_exists(enemy)){
            if (flank=0){enemy=instance_nearest(4000,y,obj_pnunit);enemy2=enemy;dist=point_distance(x,y,enemy.x,enemy.y)/10;}
            if (flank=1){enemy=instance_nearest(0,y,obj_pnunit);enemy2=enemy;dist=point_distance(x,y,enemy.x,enemy.y)/10;}
        }
        
        if (instance_exists(enemy))/* and (obj_ncombat.wall_destroyed=0)*/// {
            /*i+=1;block=0;
            if (flank=0){enemy=instance_nearest(4000,y,obj_pnunit);enemy2=enemy;dist=point_distance(x,y,enemy.x,enemy.y)/10;}
            if (flank=1){enemy=instance_nearest(0,y,obj_pnunit);enemy2=enemy;dist=point_distance(x,y,enemy.x,enemy.y)/10;}
            if (enemy.men+enemy.veh&lt;=0){var x5;x5=enemy.x;with(enemy){x=-100;instance_deactivate_object(id);}enemy=instance_nearest(4000,y,obj_pnunit);enemy2=enemy;}
        
            if (instance_exists(obj_nfort)) and (obj_nfort.hp[1]&gt;0){// Give the wall the melee D
                enemy=instance_nearest(x,y,obj_nfort);
                var bug1;bug1=instance_nearest(40,y,obj_enunit);
                if (range[i]=1) and (bug1.id=self.id) then range[i]=2;
                enemy2=enemy;dist=2;
            }
            
            if (wep[i]!="") and (wep_num[i]&gt;0) and (range[i]&gt;=dist) and (range[i]!=1) and (combi[i]&lt;2) and (ammo[i]!=0){// Weapon meets preliminary checks
                
                var ap;ap=0;if ((apa[i]*2)&gt;att[i]) then ap=1;// Determines if it is AP or not
                if (string_count("Gauss",wep[i])&gt;0) then ap=1;
                
                // show_message(string(wep[i])+" is in range and AP:"+string(ap));
                
                if (wep[i]="Missile Launcher") or (wep[i]="Rokkit Launcha") or (wep[i]="Kannon") then ap=1;
                if (wep[i]="Big Shoota") then ap=0;if (wep[i]="Devourer") then ap=0;
                if (wep[i]="Gauss Particle Cannon") or (wep[i]="Overcharged Gauss Cannon") or (wep[i]="Particle Whip") then ap=1;
                
                if (ap=1) and ((!instance_exists(obj_nfort)) or (flank=1)){// Check for vehicles
                    var g,good,enemy2;g=0;good=0;
                    
                    if (enemy.veh+enemy.dreads&gt;0){
                        // good=scr_target(enemy,"veh");// First target has vehicles, blow it to hell
                        scr_shoot(i,enemy,1,"arp","ranged");
                    }
                    if (good=0) and (instance_number(obj_pnunit)&gt;1) and (obj_ncombat.enemy!=7){// First target does not have vehicles, cycle through objects to find one that has vehicles
                        var x2;x2=enemy.x;
                        repeat(instance_number(obj_pnunit)-1){
                            if (good=0){
                                if (flank=0) then x2-=10;
                                if (flank=1) then x2+=10;
                                enemy2=instance_nearest(x2,y,obj_pnunit);
                                if (enemy2.veh+enemy2.dreads&gt;0) and (good=0){
                                    // good=scr_target(enemy2,"veh");// This target has vehicles, blow it to hell
                                    scr_shoot(i,enemy2,1,"arp","ranged");
                                }
                            }
                        }
                    }
                    if (good=0) then ap=0;// Fuck it, shoot at infantry
                }
                if (ap=1) and (instance_exists(obj_nfort)) and (flank=0){// Huff and puff and blow the wall down
                    enemy=instance_nearest(x,y,obj_nfort);
                    scr_shoot(i,enemy,1,"arp","wall");
                }
                
                
                
                if (string_count("Gauss",wep[i])&gt;0) then ap=0;
                
                if (ap=0) and ((!instance_exists(obj_nfort)) or (flank=1)){// Check for men
                    var g,good,enemy2;g=0;good=0;
                    if ((enemy.men-enemy.dreads)&gt;0){
                        // good=scr_target(enemy,"men");// First target has vehicles, blow it to hell
                        scr_shoot(i,enemy,1,"att","ranged");
                    }
                    
                    // First target does not have vehicles, cycle through objects to find one that has vehicles
                    // Note that unless the player has 10+ vehicles in the front rank they can fire on through
                    
                    if (good=0) and (instance_number(obj_pnunit)&gt;1) and (enemy.veh+enemy.dreads&lt;=10){
                        var x2;x2=enemy.x;
                        repeat(instance_number(obj_pnunit)-1){
                            if (good=0){
                                if (flank=0) then x2-=10;
                                if (flank=1) then x2+=10;
                                enemy2=instance_nearest(x2,y,obj_pnunit);
                                
                                var j,totes;j=0;totes=0;
                                repeat(600){j+=1;
                                    if (enemy2.marine_hp[j]&gt;0){
                                        if (enemy2.marine_type[j]=obj_ini.role[100,6]) then totes+=1;
                                        if (enemy2.marine_type[j]="Venerable "+string(obj_ini.role[100,6])) then totes+=1;
                                    }
                                    if (enemy2.veh_hp[j]&gt;0){
                                        if (enemy2.veh_type[i]="Rhino") then totes+=1;
                                        if (enemy2.veh_type[i]="Predator") then totes+=1;
                                        if (enemy2.veh_type[i]="Land Raider") then totes+=1;
                                    }
                                }
                                
                                show_message(totes);
                                
                                // if (enemy2.veh+enemy2.dreads&gt;10) then block=1;
                                if (totes&gt;=10) then block=1;
                                
                                // if (enemy2.men-enemy2.dreads&gt;0) and (good=0) and (block=0){
                                if (enemy2.men-enemy2.dreads&gt;0) and (good=0) and (block=0){
                                    // good=scr_target(enemy2,"men");// This target has men, blow it to hell
                                    scr_shoot(i,enemy2,1,"att","ranged");
                                }
                            }
                        }
                    }
                }
                
                
                
            }
        }
        
        
        
    }
// }


// if ((engaged=1) or (enemy.engaged=1) and (instance_exists(enemy)))/* or (instance_exists(obj_nfort))*/// {// Melee
    /*engaged=1;
    var i,dist,no_ap;i=0;dist=999;no_ap=1;
    // dist=point_distance(x,y,enemy.x,enemy.y)/10;
    
    repeat(30){i+=1;
        if (flank=0){enemy=instance_nearest(4000,y,obj_pnunit);enemy2=enemy;dist=point_distance(x,y,enemy.x,enemy.y)/10;}
        if (flank=1){enemy=instance_nearest(0,y,obj_pnunit);enemy2=enemy;dist=point_distance(x,y,enemy.x,enemy.y)/10;}
    
        
        if (enemy.men+enemy.veh&lt;=0){var x5;x5=enemy.x;with(enemy){x=-100;instance_deactivate_object(id);}enemy=instance_nearest(4000,y,obj_pnunit);enemy2=enemy;}
    
        
        /*
        if (ap=1) and (instance_exists(obj_nfort)) and (flank=0){// Huff and puff and blow the wall down
            enemy=instance_nearest(x,y,obj_nfort);
            scr_shoot(i,enemy,1,"arp","wall");
        }*/
        
        /*
        if (apa[i]=0) or (apa[i]&lt;att[i]) then no_ap+=1;
        
        if (wep[i]!="") and (wep_num[i]&gt;0) and (range[i]&gt;=dist) and (range[i]&lt;=2){// Weapon meets preliminary checks
            var ap;ap=0;if (apa[i]&gt;att[i]) then ap=1;// Determines if it is AP or not
            
            if (ap=1){// Check for vehicles
                var g,good,enemy2;g=0;good=0;
                
                if (enemy.veh+enemy.dreads&gt;0){
                    // good=scr_target(enemy,"veh");// First target has vehicles, blow it to hell
                    scr_shoot(i,enemy,1,"arp","melee");
                }
                if (good=0) then ap=0;// Fuck it, shoot at infantry
            }
            if (ap=0){// Check for men
                // show_message(string(wep[i]));
                var g,good,enemy2;g=0;good=0;
                if ((enemy.men-enemy.dreads)&gt;0){
                    // good=scr_target(enemy,"men");// First target has vehicles, blow it to hell
                    scr_shoot(i,enemy,1,"att","melee");
                }
                if ((enemy.men-enemy.dreads)&lt;=0) and (enemy.veh&gt;0){
                    scr_shoot(i,enemy,1,"arp","melee");// Swing anyways, maybe they'll get lucky
                }
            }
            
            
            
        }
   
    }
    
    
    if (no_ap=30) and (enemy.men=0) and (flank=0){// Next turn?
        
    }
    
    
    
}
*/


instance_activate_object(obj_pnunit);
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>424</id>
        <kind>2</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>0</useapplyto>
        <exetype>0</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>
highlight=0;
var diff,siz,pos;
diff=0;pos=880;siz=min(400,(men*0.5)+(medi)+(veh*2.5)+(dreads*2));
if (instance_exists(obj_centerline)){
    diff=x-obj_centerline.x;
}
if (siz&gt;0){
    if ((pos+(diff*2))&gt;817) and ((pos+(diff*2))&lt;1575){
        if (mouse_x&gt;=pos+(diff*2)) and (mouse_y&gt;=450-(siz/2)) 
        and (mouse_x&lt;pos+(diff*2)+10) and (mouse_y&lt;450+(siz/2)) then highlight=men+medi+veh;
    }
}

if (highlight2!=highlight){
    highlight2=highlight;highlight3="";
    
    if (obj_ncombat.enemy!=1){
        var i,stop;i=0;stop=0;
        repeat(70){i+=1;
            if (stop=0){
                if (dudes_num[i]&gt;0) and (dudes_num[i+1]&gt;0) then highlight3+=string(dudes_num[i])+"x "+string(dudes[i])+", ";
                if (dudes_num[i]&gt;0) and (dudes_num[i+1]&lt;=0){highlight3+=string(dudes_num[i])+"x "+string(dudes[i])+".  ";stop=1;}
            }
        }
    }
    
    if (obj_ncombat.enemy=1){
        var variety,variety_num,i,q,stop,sofar,compl,vas;
        i=-1;q=0;stop=0;variety=0;variety_num=0;sofar=0;compl="";vas="";
        
        q=-1;repeat(800){q+=1;variety[q]="";variety_num[q]=0;}
        q=0;repeat(700){q+=1;
            if (dudes[q]!="") and (string_count(string(dudes[q])+"|",compl)=0){
                compl+=string(dudes[q])+"|";sofar+=1;
                variety[sofar]=dudes[q];
                variety_num[sofar]=0;
            }
        }
        q=0;repeat(700){q+=1;
            if (dudes[q]!=""){i=0;
                repeat(50){i+=1;
                    if (dudes[q]=variety[i]) then variety_num[i]+=dudes_num[q];
                }
            }
            
        }
        i=0;stop=0;
        repeat(70){i+=1;
            if (stop=0){
                if (variety_num[i]&gt;0) and (variety_num[i+1]&gt;0) then highlight3+=string(variety_num[i])+"x "+string(variety[i])+", ";
                if (variety_num[i]&gt;0) and (variety_num[i+1]&lt;=0){highlight3+=string(variety_num[i])+"x "+string(variety[i])+".  ";stop=1;}
            }
        }
    }
    
    
}

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="6" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>
/*show_message("Engaged "+string(engaged)+"
"+string(dudes_num[1])+"x "+string(dudes[1])+"
"+string(dudes_num[2])+"x "+string(dudes[2])+"
"+string(dudes_num[3])+"x "+string(dudes[3])+"
"+string(dudes_num[4])+"x "+string(dudes[4])+"
"+string(dudes_num[5])+"x "+string(dudes[5])+"
"+string(dudes_num[6])+"x "+string(dudes[6])+"
"+string(dudes_num[7])+"x "+string(dudes[7])+"
"+string(dudes_num[8])+"x "+string(dudes[8])+"
"+string(dudes_num[9])+"x "+string(dudes[9])+"
"+string(dudes_num[10])+"x "+string(dudes[10]));*/

/*show_message("Engaged "+string(engaged)+"
"+string(wep_num[1])+"x "+string(wep[1])+": ATT"+string(att[1])+" ARP"+string(apa[1])+" ammo:"+string(ammo[1])+"
"+string(wep_num[2])+"x "+string(wep[2])+": ATT"+string(att[2])+" ARP"+string(apa[2])+" ammo:"+string(ammo[2])+"
"+string(wep_num[3])+"x "+string(wep[3])+": ATT"+string(att[3])+" ARP"+string(apa[3])+" ammo:"+string(ammo[3])+"
"+string(wep_num[4])+"x "+string(wep[4])+": ATT"+string(att[4])+" ARP"+string(apa[4])+" ammo:"+string(ammo[4])+"
"+string(wep_num[5])+"x "+string(wep[5])+": ATT"+string(att[5])+" ARP"+string(apa[5])+" ammo:"+string(ammo[5])+"
"+string(wep_num[6])+"x "+string(wep[6])+": ATT"+string(att[6])+" ARP"+string(apa[6])+" ammo:"+string(ammo[6])+"
"+string(wep_num[7])+"x "+string(wep[7])+": ATT"+string(att[7])+" ARP"+string(apa[7])+" ammo:"+string(ammo[7])+"
"+string(wep_num[8])+"x "+string(wep[8])+": ATT"+string(att[8])+" ARP"+string(apa[8])+" ammo:"+string(ammo[8])+"
"+string(wep_num[9])+"x "+string(wep[9])+": ATT"+string(att[9])+" ARP"+string(apa[9])+" ammo:"+string(ammo[9])+"
"+string(wep_num[10])+"x "+string(wep[10])+": ATT"+string(att[10])+" ARP"+string(apa[10])+" ammo:"+string(ammo[10]));
*/



</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>
if (instance_exists(obj_pnunit)){
    diff=0;pos=880;
    siz=min(400,(men*0.5)+(medi)+(veh*2.5)+(dreads*2));
}


draw_set_color(c_white);
if (instance_exists(obj_centerline)) and (instance_exists(obj_pnunit)){
    diff=x-obj_centerline.x;
}

draw_set_color(c_maroon);
if (obj_ncombat.enemy=2) then draw_set_color(8307806);
if (obj_ncombat.enemy=3) then draw_set_color(16512);
if (obj_ncombat.enemy=5) then draw_set_color(c_silver);
if (obj_ncombat.enemy=6) then draw_set_color(33023);
if (obj_ncombat.enemy=7) then draw_set_color(38144);
if (obj_ncombat.enemy=8) then draw_set_color(117758);
if (obj_ncombat.enemy=9) then draw_set_color(7492269);
if (obj_ncombat.enemy=10) then draw_set_color(c_purple);
if (obj_ncombat.enemy=13) then draw_set_color(65408);

if (siz&gt;0){
    draw_set_alpha(1);
    if (highlight&gt;0) then draw_set_alpha(0.8);
    if ((pos+(diff*2))&gt;817) and ((pos+(diff*2))&lt;1575){
        draw_rectangle(pos+(diff*2),450-(siz/2),pos+(diff*2)+10,450+(siz/2),0);
    }
    draw_set_alpha(1);
}

if (highlight&gt;0) and (obj_ncombat.fadein&lt;=0){
    draw_set_color(38144);
    draw_line(pos+(diff*2)+5,450,817,685);
    draw_set_font(fnt_40k_14b);
    draw_text(817,688,"Row Composition:");
    draw_set_font(fnt_40k_14);
    draw_text_ext(817,706,string(highlight3),-1,758);    
}


</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="87">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>
/*if (men&gt;0) then show_message(string(wep_num[1])+"x "+string(wep[1])+": ATT"+string(att[1])+" ARP"+string(apa[1])+" ammo:"+string(ammo[1])+"
"+string(wep_num[2])+"x "+string(wep[2])+": ATT"+string(att[2])+" ARP"+string(apa[2])+" ammo:"+string(ammo[2])+"
"+string(wep_num[3])+"x "+string(wep[3])+": ATT"+string(att[3])+" ARP"+string(apa[3])+" ammo:"+string(ammo[3])+"
"+string(wep_num[4])+"x "+string(wep[4])+": ATT"+string(att[4])+" ARP"+string(apa[4])+" ammo:"+string(ammo[4])+"
"+string(wep_num[5])+"x "+string(wep[5])+": ATT"+string(att[5])+" ARP"+string(apa[5])+" ammo:"+string(ammo[5])+"
"+string(wep_num[6])+"x "+string(wep[6])+": ATT"+string(att[6])+" ARP"+string(apa[6])+" ammo:"+string(ammo[6])+"
"+string(wep_num[7])+"x "+string(wep[7])+": ATT"+string(att[7])+" ARP"+string(apa[7])+" ammo:"+string(ammo[7])+"
"+string(wep_num[8])+"x "+string(wep[8])+": ATT"+string(att[8])+" ARP"+string(apa[8])+" ammo:"+string(ammo[8])+"
"+string(wep_num[9])+"x "+string(wep[9])+": ATT"+string(att[9])+" ARP"+string(apa[9])+" ammo:"+string(ammo[9])+"
"+string(wep_num[10])+"x "+string(wep[10])+": ATT"+string(att[10])+" ARP"+string(apa[10])+" ammo:"+string(ammo[10]));

var j;j=0;
repeat(700){j+=1;
    dudes_hp[j]=0;dudes_num[j]=0;
}men=0;
*/



// obj_ncombat.enemy_forces=0;
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints>
    <point>0,0</point>
    <point>5,5</point>
  </PhysicsShapePoints>
</object>
